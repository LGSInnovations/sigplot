/*

 File: CanvasInput.js
  CanvasInput v1.0.10
  http://goldfirestudios.com/blog/108/CanvasInput-HTML5-Canvas-Text-Input

  (c) 2013, James Simpson of GoldFire Studios
  goldfirestudios.com

  (c) 2013, Axios, Inc.
  Modifications made by Axios, Inc.
  axiosengineering.com

  MIT License

 File: common.js
 Copyright (c) 2012-2017, LGS Innovations Inc., All rights reserved.

 This file is part of SigPlot.

 Licensed to the LGS Innovations (LGS) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  LGS licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.


 File: m.js
 Copyright (c) 2012-2017, LGS Innovations Inc., All rights reserved.

 This file is part of SigPlot.

 Licensed to the LGS Innovations (LGS) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  LGS licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

 File: plugins.js
 Copyright (c) 2012-2017, LGS Innovations Inc., All rights reserved.

 This file is part of SigPlot.

 Licensed to the LGS Innovations (LGS) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  LGS licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

 File: sigplot.accordion.js
 Copyright (c) 2012-2017, LGS Innovations Inc., All rights reserved.

 This file is part of SigPlot.

 Licensed to the LGS Innovations (LGS) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  LGS licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

 File: sigplot.annotations.js
 Copyright (c) 2012-2017, LGS Innovations Inc., All rights reserved.

 This file is part of SigPlot.

 Licensed to the LGS Innovations (LGS) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  LGS licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

 File: sigplot.boxes.js
 Copyright (c) 2012-2017, LGS Innovations Inc., All rights reserved.

 This file is part of SigPlot.

 Licensed to the LGS Innovations (LGS) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  LGS licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

 File: sigplot.playback.js
 Copyright (c) 2012-2017, LGS Innovations Inc., All rights reserved.

 This file is part of SigPlot.

 Licensed to the LGS Innovations (LGS) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  LGS licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

 File: sigplot.slider.js
 Copyright (c) 2012-2017, LGS Innovations Inc., All rights reserved.

 This file is part of SigPlot.

 Licensed to the LGS Innovations (LGS) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  LGS licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

 File: bluefile.js
 Copyright (c) 2012-2017, LGS Innovations Inc., All rights reserved.

 This file is part of SigPlot.

 Licensed to the LGS Innovations (LGS) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  LGS licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.


 File: mx.js
 Copyright (c) 2012-2017, LGS Innovations Inc., All rights reserved.

 This file is part of SigPlot.

 Licensed to the LGS Innovations (LGS) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  LGS licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
*/
(function(aa){"object"===typeof exports&&"undefined"!==typeof module?module.exports=aa():"function"===typeof define&&define.amd?define([],aa):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).sigplot_plugins=aa()})(function(){return function D(v,H,b){function g(a,d){if(!H[a]){if(!v[a]){var f="function"==typeof require&&require;if(!d&&f)return f(a,!0);if(e)return e(a,!0);f=Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",
f;}f=H[a]={exports:{}};v[a][0].call(f.exports,function(b){var f=v[a][1][b];return g(f?f:b)},f,f.exports,D,v,H,b)}return H[a].exports}for(var e="function"==typeof require&&require,a=0;a<b.length;a++)g(b[a]);return g}({1:[function(D,v,H){(function(){var b=[],g=window.CanvasInput=function(e){var a=this;e=e?e:{};a._canvas=e.canvas||null;a._ctx=a._canvas?a._canvas.getContext("2d"):null;a._x=e.x||0;a._y=e.y||0;a._extraX=e.extraX||0;a._extraY=e.extraY||0;a._fontSize=e.fontSize||14;a._fontFamily=e.fontFamily||
"Arial";a._fontColor=e.fontColor||"#000";a._placeHolderColor=e.placeHolderColor||"#bfbebd";a._fontWeight=e.fontWeight||"normal";a._fontStyle=e.fontStyle||"normal";a._readonly=e.readonly||!1;a._maxlength=e.maxlength||null;a._width=e.width||150;a._height=e.height||a._fontSize;a._padding=0<=e.padding?e.padding:5;a._borderWidth=0<=e.borderWidth?e.borderWidth:1;a._borderColor=e.borderColor||"#959595";a._borderRadius=0<=e.borderRadius?e.borderRadius:3;a._backgroundImage=e.backgroundImage||"";a._boxShadow=
e.boxShadow||"1px 1px 0px rgba(255, 255, 255, 1)";a._innerShadow=e.innerShadow||"0px 0px 4px rgba(0, 0, 0, 0.4)";a._selectionColor=e.selectionColor||"rgba(179, 212, 253, 0.8)";a._placeHolder=e.placeHolder||"";a._value=e.value||a._placeHolder;a._onsubmit=e.onsubmit||function(){};a._onkeydown=e.onkeydown||function(){};a._onkeyup=e.onkeyup||function(){};a._onfocus=e.onfocus||function(){};a._onblur=e.onblur||function(){};a._cursor=!1;a._cursorPos=0;a._hasFocus=!1;a._selection=[0,0];a._wasOver=!1;a._renderOnReturn=
void 0!==e.renderOnReturn?e.renderOnReturn:!0;a._disableBlur=e.disableBlur||!1;a._tabToClear=e.tabToClear||!1;a.boxShadow(a._boxShadow,!0);a._calcWH();a._renderCanvas=document.createElement("canvas");a._renderCanvas.setAttribute("width",a.outerW);a._renderCanvas.setAttribute("height",a.outerH);a._renderCtx=a._renderCanvas.getContext("2d");a._shadowCanvas=document.createElement("canvas");a._shadowCanvas.setAttribute("width",a._width+2*a._padding);a._shadowCanvas.setAttribute("height",a._height+2*a._padding);
a._shadowCtx=a._shadowCanvas.getContext("2d");"undefined"!==typeof e.backgroundGradient?(a._backgroundColor=a._renderCtx.createLinearGradient(0,0,0,a.outerH),a._backgroundColor.addColorStop(0,e.backgroundGradient[0]),a._backgroundColor.addColorStop(1,e.backgroundGradient[1])):a._backgroundColor=e.backgroundColor||"#fff";a._canvas&&(a.mousemoveCanvasListener=function(b){b=b||window.event;a.mousemove(b,a)},a._canvas.addEventListener("mousemove",a.mousemoveCanvasListener,!1),a.mousedownCanvasListener=
function(b){b=b||window.event;a.mousedown(b,a)},a._canvas.addEventListener("mousedown",a.mousedownCanvasListener,!1),a.mouseupCanvasListener=function(b){b=b||window.event;a.mouseup(b,a)},a._canvas.addEventListener("mouseup",a.mouseupCanvasListener,!1));a.mouseupWindowListener=function(b){a._hasFocus&&!a._mouseDown&&a.blur()};window.addEventListener("mouseup",a.mouseupWindowListener,!0);a.keydownWindowListener=function(b){b=b||window.event;a._hasFocus&&a.keydown(b,a)};window.addEventListener("keydown",
a.keydownWindowListener,!1);a.keyupWindowListener=function(b){b=b||window.event;a._hasFocus&&a._onkeyup(b,a)};window.addEventListener("keyup",a.keyupWindowListener,!1);a.pasteWindowListener=function(b){b=b||window.event;if(a._hasFocus){b=b.clipboardData.getData("text/plain");var e=a._value.substr(0,a._cursorPos),f=a._value.substr(a._cursorPos);a._value=e+b+f;a._cursorPos+=b.length;a.render()}};window.addEventListener("paste",a.pasteWindowListener,!1);b.push(a);a._inputsIndex=b.length-1;a.render()};
g.prototype={canvas:function(b){return"undefined"!==typeof b?(this._canvas=b,this._ctx=this._canvas.getContext("2d"),this.render()):this._canvas},x:function(b){return"undefined"!==typeof b?(this._x=b,this.render()):this._x},y:function(b){return"undefined"!==typeof b?(this._y=b,this.render()):this._y},extraX:function(b){return"undefined"!==typeof b?(this._extraX=b,this.render()):this._extraX},extraY:function(b){return"undefined"!==typeof b?(this._extraY=b,this.render()):this._extraY},fontSize:function(b){return"undefined"!==
typeof b?(this._fontSize=b,this.render()):this._fontSize},fontFamily:function(b){return"undefined"!==typeof b?(this._fontFamily=b,this.render()):this._fontFamily},fontColor:function(b){return"undefined"!==typeof b?(this._fontColor=b,this.render()):this._fontColor},placeHolderColor:function(b){return"undefined"!==typeof b?(this._placeHolderColor=b,this.render()):this._placeHolderColor},fontWeight:function(b){return"undefined"!==typeof b?(this._fontWeight=b,this.render()):this._fontWeight},fontStyle:function(b){return"undefined"!==
typeof b?(this._fontStyle=b,this.render()):this._fontStyle},width:function(b){return"undefined"!==typeof b?(this._width=b,this._calcWH(),this._updateCanvasWH(),this.render()):this._width},height:function(b){return"undefined"!==typeof b?(this._height=b,this._calcWH(),this._updateCanvasWH(),this.render()):this._height},padding:function(b){return"undefined"!==typeof b?(this._padding=b,this._calcWH(),this._updateCanvasWH(),this.render()):this._padding},borderWidth:function(b){return"undefined"!==typeof b?
(this._borderWidth=b,this._calcWH(),this._updateCanvasWH(),this.render()):this._borderWidth},borderColor:function(b){return"undefined"!==typeof b?(this._borderColor=b,this.render()):this._borderColor},borderRadius:function(b){return"undefined"!==typeof b?(this._borderRadius=b,this.render()):this._borderRadius},backgroundColor:function(b){return"undefined"!==typeof b?(this._backgroundColor=b,this.render()):this._backgroundColor},backgroundGradient:function(b){return"undefined"!==typeof b?(this._backgroundColor=
this._renderCtx.createLinearGradient(0,0,0,this.outerH),this._backgroundColor.addColorStop(0,b[0]),this._backgroundColor.addColorStop(1,b[1]),this.render()):this._backgroundColor},boxShadow:function(b,a){if("undefined"!==typeof b){var c=b.split("px ");this._boxShadow={x:"none"===this._boxShadow?0:parseInt(c[0],10),y:"none"===this._boxShadow?0:parseInt(c[1],10),blur:"none"===this._boxShadow?0:parseInt(c[2],10),color:"none"===this._boxShadow?"":c[3]};this.shadowL=0>this._boxShadow.x?Math.abs(this._boxShadow.x)+
this._boxShadow.blur:Math.abs(this._boxShadow.blur-this._boxShadow.x);this.shadowR=this._boxShadow.blur+this._boxShadow.x;this.shadowT=0>this._boxShadow.y?Math.abs(this._boxShadow.y)+this._boxShadow.blur:Math.abs(this._boxShadow.blur-this._boxShadow.y);this.shadowB=this._boxShadow.blur+this._boxShadow.y;this.shadowW=this.shadowL+this.shadowR;this.shadowH=this.shadowT+this.shadowB;this._calcWH();if(!a)return this._updateCanvasWH(),this.render()}else return this._boxShadow},innerShadow:function(b){return"undefined"!==
typeof b?(this._innerShadow=b,this.render()):this._innerShadow},selectionColor:function(b){return"undefined"!==typeof b?(this._selectionColor=b,this.render()):this._selectionColor},placeHolder:function(b){return"undefined"!==typeof b?(this._placeHolder=b,this.render()):this._placeHolder},value:function(b){return"undefined"!==typeof b?(this._value=b,this.focus()):this._value},onsubmit:function(b){if("undefined"!==typeof b)return this._onsubmit=b,this;this._onsubmit()},onkeydown:function(b){if("undefined"!==
typeof b)return this._onkeydown=b,this;this._onkeydown()},onkeyup:function(b){if("undefined"!==typeof b)return this._onkeyup=b,this;this._onkeyup()},focus:function(b){var a=this,c;if(!a._readonly){a._hasFocus||a._onfocus(a);a._selectionUpdated?delete a._selectionUpdated:a._selection=[0,0];a._cursorPos="number"===typeof b?b:a._clipText().length;a._placeHolder===a._value&&(a._value="");a._hasFocus=!0;a._cursor=!0;a._cursorInterval&&clearInterval(a._cursorInterval);a._cursorInterval=setInterval(function(){a._cursor=
!a._cursor;a.render()},500);b=navigator.userAgent.toLowerCase();b=0<=b.indexOf("chrome")&&0<=b.indexOf("mobile")&&0<=b.indexOf("android");var d="undefined"!==typeof window.orientation;d&&!b&&document&&document.createElement&&(c=document.createElement("input"))?(c.type="text",c.style.opacity=0,c.style.position="absolute",c.style.left=a._x+a._extraX+(a._canvas?a._canvas.offsetLeft:0)+"px",c.style.top=a._y+a._extraY+(a._canvas?a._canvas.offsetTop:0)+"px",c.style.width=a._width,c.style.height=0,document.body.appendChild(c),
c.focus(),c.addEventListener("blur",function(){a.blur(a)},!1)):d&&a.value(prompt(a._placeHolder)||"");return a.render()}},blur:function(b){b=b||this;b._disableBlur||(b._onblur(b),b._cursorInterval&&clearInterval(b._cursorInterval),b._hasFocus=!1,b._cursor=!1,b._selection=[0,0],""===b._value&&(b._value=b._placeHolder));return b.render()},disableBlur:function(b){(b||this)._disableBlur=!0},enableBlur:function(b){(b||this)._disableBlur=!1},keydown:function(e,a){var c=e.which,d=e.shiftKey,f=null,p;if(a._hasFocus){a._onkeydown(e,
a);if(65===c&&(e.ctrlKey||e.metaKey))return a._selection=[0,a._value.length],e.preventDefault(),a.render();if(17===c||e.metaKey||e.ctrlKey)return a;e.preventDefault();if(8===c)!a._clearSelection()&&0<a._cursorPos&&(d=a._value.substr(0,a._cursorPos-1),p=a._value.substr(a._cursorPos,a._value.length),a._value=d+p,a._cursorPos--);else if(37===c)0<a._cursorPos&&(a._cursorPos--,a._cursor=!0,a._selection=[0,0]);else if(39===c)a._cursorPos<a._value.length&&(a._cursorPos++,a._cursor=!0,a._selection=[0,0]);
else if(13===c)a._onsubmit(e,a);else if(9===c)if(a._tabToClear)a._value="",a._cursorPos=0;else{var l=b[a._inputsIndex+1]?a._inputsIndex+1:0;l!==a._inputsIndex&&(a.blur(),setTimeout(function(){b[l].focus()},10))}else if(f=a._mapCodeToKey(d,c)){a._clearSelection();if(a._maxlength&&a._maxlength<=a._value.length)return;d=a._value?a._value.substr(0,a._cursorPos):"";p=a._value?a._value.substr(a._cursorPos):"";a._value=d+f+p;a._cursorPos++}return 13==c&&a._renderOnReturn||13!==c?a.render():function(){}}},
click:function(b,a){var c=a._mousePos(b),d=c.x,c=c.y;if(a._endSelection)delete a._endSelection,delete a._selectionUpdated;else if(a._canvas&&a._overInput(d,c)||!a._canvas){if(a._mouseDown)return a._mouseDown=!1,a.click(b,a),a.focus(a._clickPos(d,c))}else return a.blur()},mousemove:function(b,a){var c=a._mousePos(b),d=c.x,f=c.y;(c=a._overInput(d,f))&&a._canvas?(a._canvas.style.cursor="text",a._wasOver=!0):a._wasOver&&a._canvas&&(a._canvas.style.cursor="default",a._wasOver=!1);if(a._hasFocus&&0<=a._selectionStart)if(f=
a._clickPos(d,f),d=Math.min(a._selectionStart,f),f=Math.max(a._selectionStart,f),!c)a._selectionUpdated=!0,a._endSelection=!0,delete a._selectionStart,a.render();else if(a._selection[0]!==d||a._selection[1]!==f)a._selection=[d,f],a.render()},mousedown:function(b,a){var c=a._mousePos(b),d=c.x,c=c.y,f=a._overInput(d,c);a._mouseDown=f;a._hasFocus&&f&&(a._selectionStart=a._clickPos(d,c))},mouseup:function(b,a){var c=a._mousePos(b),d=c.x,c=c.y,f=a._clickPos(d,c)!==a._selectionStart;a._hasFocus&&0<=a._selectionStart&&
a._overInput(d,c)&&f?(a._selectionUpdated=!0,delete a._selectionStart,a.render()):delete a._selectionStart;a.click(b,a)},renderCanvas:function(){return this._renderCanvas},cleanup:function(){this._canvas.removeEventListener("mouseup",this.mouseupCanvasListener,!1);this._canvas.removeEventListener("mousedown",this.mousedownCanvasListener,!1);this._canvas.removeEventListener("mousemove",this.mousemoveCanvasListener,!1);window.removeEventListener("keydown",this.keydownWindowListener,!1);window.removeEventListener("keyup",
this.keyupWindowListener,!1);window.removeEventListener("mouseup",this.mouseupWindowListener,!0);window.removeEventListener("paste",this.pasteWindowListener,!1);clearInterval(this._cursorInterval);this._canvas.style.cursor="default";for(var e=0;e<b.length;e++)b[e]===this&&b.remove(e)},render:function(){var b=this,a=b._renderCtx,c=b.outerW,d=b.outerH,f=b._borderRadius,p=b._borderWidth,l=b.shadowW,n=b.shadowH;a.clearRect(0,0,a.canvas.width,a.canvas.height);a.shadowOffsetX=b._boxShadow.x;a.shadowOffsetY=
b._boxShadow.y;a.shadowBlur=b._boxShadow.blur;a.shadowColor=b._boxShadow.color;0<b._borderWidth&&(a.fillStyle=b._borderColor,b._roundedRect(a,b.shadowL,b.shadowT,c-l,d-n,f),a.fill(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0);b._drawTextBox(function(){a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0;var g=b._clipText(),A=b._padding+b._borderWidth+b.shadowT;if(0<b._selection[1]){var y=b._textWidth(g.substring(0,b._selection[0])),v=b._textWidth(g.substring(b._selection[0],b._selection[1]));
a.fillStyle=b._selectionColor;a.fillRect(A+y,A,v,b._height)}a.fillStyle=b._placeHolder===b._value&&""!==b._value?b._placeHolderColor:b._fontColor;b._cursor&&(y=b._textWidth(g.substring(0,b._cursorPos)),a.fillRect(A+y,A,1,b._height));y=b._padding+b._borderWidth+b.shadowL;A=Math.round(A+b._height/2);a.font=b._fontStyle+" "+b._fontWeight+" "+b._fontSize+"px "+b._fontFamily;a.textAlign="left";a.textBaseline="middle";a.fillText(g,y,A);v=b._innerShadow.split("px ");g="none"===b._innerShadow?0:parseInt(v[0],
10);A="none"===b._innerShadow?0:parseInt(v[1],10);y="none"===b._innerShadow?0:parseInt(v[2],10);v="none"===b._innerShadow?"":v[3];if(0<y){var F=b._shadowCtx,Q=F.canvas.width,$=F.canvas.height;F.clearRect(0,0,Q,$);F.shadowBlur=y;F.shadowColor=v;F.shadowOffsetX=0;F.shadowOffsetY=A;F.fillRect(-1*c,-100,3*c,100);F.shadowOffsetX=g;F.shadowOffsetY=0;F.fillRect(Q,-1*d,100,3*d);F.shadowOffsetX=0;F.shadowOffsetY=A;F.fillRect(-1*c,$,3*c,100);F.shadowOffsetX=g;F.shadowOffsetY=0;F.fillRect(-100,-1*d,100,3*d);
b._roundedRect(a,p+b.shadowL,p+b.shadowT,c-2*p-l,d-2*p-n,f);a.clip();a.drawImage(b._shadowCanvas,0,0,Q,$,p+b.shadowL,p+b.shadowT,Q,$)}b._ctx&&(b._ctx.clearRect(b._x,b._y,a.canvas.width,a.canvas.height),b._ctx.drawImage(b._renderCanvas,b._x,b._y));return b})},_drawTextBox:function(b){var a=this,c=a._renderCtx,d=a.outerW,f=a.outerH,p=a._borderRadius,l=a._borderWidth,n=a.shadowW,g=a.shadowH;if(""===a._backgroundImage)c.fillStyle=a._backgroundColor,a._roundedRect(c,l+a.shadowL,l+a.shadowT,d-2*l-n,f-2*
l-g,p),c.fill(),b();else{var A=new Image;A.src=a._backgroundImage;A.onload=function(){c.drawImage(A,0,0,A.width,A.height,l+a.shadowL,l+a.shadowT,d,f);b()}}},_clearSelection:function(){if(0<this._selection[1]){var b=this._selection[0],a=this._selection[1];this._value=this._value.substr(0,b)+this._value.substr(a);this._cursorPos=b;this._cursorPos=0>this._cursorPos?0:this._cursorPos;this._selection=[0,0];return!0}return!1},_clipText:function(b){b="undefined"===typeof b?this._value:b;var a=this._textWidth(b)/
(this._width-this._padding);return(1<a?b.substr(-1*Math.floor(b.length/a)):b)+""},_textWidth:function(b){var a=this._renderCtx;a.font=this._fontStyle+" "+this._fontWeight+" "+this._fontSize+"px "+this._fontFamily;a.textAlign="left";return a.measureText(b).width},_calcWH:function(){this.outerW=this._width+2*this._padding+2*this._borderWidth+this.shadowW;this.outerH=this._height+2*this._padding+2*this._borderWidth+this.shadowH},_updateCanvasWH:function(){var b=this._renderCanvas.width,a=this._renderCanvas.height;
this._renderCanvas.setAttribute("width",this.outerW);this._renderCanvas.setAttribute("height",this.outerH);this._shadowCanvas.setAttribute("width",this._width+2*this._padding);this._shadowCanvas.setAttribute("height",this._height+2*this._padding);this._ctx&&this._ctx.clearRect(this._x,this._y,b,a)},_roundedRect:function(b,a,c,d,f,p){d<2*p&&(p=d/2);f<2*p&&(p=f/2);b.beginPath();b.moveTo(a+p,c);b.lineTo(a+d-p,c);b.quadraticCurveTo(a+d,c,a+d,c+p);b.lineTo(a+d,c+f-p);b.quadraticCurveTo(a+d,c+f,a+d-p,c+
f);b.lineTo(a+p,c+f);b.quadraticCurveTo(a,c+f,a,c+f-p);b.lineTo(a,c+p);b.quadraticCurveTo(a,c,a+p,c);b.closePath()},_overInput:function(b,a){var c=b<=this._x+this._extraX+this._width+2*this._padding,d=a>=this._y+this._extraY,f=a<=this._y+this._extraY+this._height+2*this._padding;return b>=this._x+this._extraX&&c&&d&&f},_clickPos:function(b,a){var c=this._value;this._value===this._placeHolder&&(c="");var c=this._clipText(c),d=0,f=c.length;if(b-(this._x+this._extraX)<this._textWidth(c))for(var p=0;p<
c.length;p++)if(d+=this._textWidth(c[p]),d>=b-(this._x+this._extraX)){f=p;break}return f},_mousePos:function(b){var a=b.target,c=document.defaultView.getComputedStyle(a,void 0),d=parseInt(c.paddingLeft,10)||0,f=parseInt(c.paddingLeft,10)||0,p=parseInt(c.borderLeftWidth,10)||0,c=parseInt(c.borderLeftWidth,10)||0,l=document.body.parentNode.offsetTop||0,n=document.body.parentNode.offsetLeft||0,g=0,A=0;if("unefined"!==typeof a.offsetParent){do g+=a.offsetLeft,A+=a.offsetTop;while(a=a.offsetParent)}return{x:b.pageX-
(g+(d+p+n)),y:b.pageY-(A+(f+c+l))}},_mapCodeToKey:function(b,a){for(var c=[8,9,13,16,17,18,20,27,91,92],d="",d=0;d<c.length;d++)if(a===c[d])return;if("boolean"===typeof b&&"number"===typeof a)return c={32:" ",48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",107:"+",173:"_",189:"_",186:":",187:"+",188:"<",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},d=b?65<=a&&90>=a?String.fromCharCode(a):c[a]:65<=a&&90>=a?String.fromCharCode(a).toLowerCase():96===a?"0":97===
a?"1":98===a?"2":99===a?"3":100===a?"4":101===a?"5":102===a?"6":103===a?"7":104===a?"8":105===a?"9":188===a?",":190===a?".":191===a?"/":192===a?"`":220===a?"\\":187===a?"=":189===a||173===a?"-":222===a?"'":186===a?";":219===a?"[":221===a?"]":String.fromCharCode(a)}};v.exports=g})()},{}],2:[function(D,v,H){(function(){function b(){}function g(b){b=new Uint8Array(b);if(A)return String.fromCharCode.apply(null,b);for(var a="",f=0;f<b.length;f++)a+=String.fromCharCode(b[f]);return a}function e(b){return 0<=
b&&31>b?1<<b:e[b]||(e[b]=Math.pow(2,b))}function a(b){var a=document.createElement("a");a.href=b;for(var f=a.protocol.replace(":",""),c=a.hostname,p=a.port,d=a.search,l={},n=a.search.replace(/^\?/,"").split("&"),e=n.length,g=0,L;g<e;g++)n[g]&&(L=n[g].split("="),l[L[0]]=L[1]);return{source:b,protocol:f,host:c,port:p,query:d,params:l,file:(a.pathname.match(/\/([^\/?#]+)$/i)||[null,""])[1],hash:a.hash.replace("#",""),path:a.pathname.replace(/^([^\/])/,"/$1"),relative:(a.href.match(/tps?:\/\/[^\/]+(.+)/)||
[null,""])[1],segments:a.pathname.replace(/^\//,"").split("/")}}function c(b,a,f){f=f||1024;var c=0,p=new ArrayBuffer(b.length),d=new Uint8Array(p),l=function(){for(var n=c+f;c<n;c++)d[c]=b.charCodeAt(c)&255;c>=b.length?a(p):setTimeout(l,0)};setTimeout(l,0)}var d=D("./common");navigator.userAgent.match(/(iPad|iPhone|iPod)/i);var f=function(){var b=new ArrayBuffer(4),a=new Uint32Array(b),b=new Uint8Array(b);a[0]=3735928559;if(239===b[0])return"LE";if(222===b[0])return"BE";throw Error("unknown endianness");
}(),p={S:1,C:2,V:3,Q:4,M:9,X:10,T:16,U:1,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},l={P:0.125,A:1,O:1,B:1,I:2,L:4,X:8,F:4,D:8},n={P:null,A:null,O:Uint8Array,B:Int8Array,I:Int16Array,L:Int32Array,X:null,F:Float32Array,D:Float64Array},L={P:null,A:null,O:"getUint8",B:"getInt8",I:"getInt16",L:"getInt32",X:function(b,a,f){var c,p,d=Math.pow(2,53);f?(c=4,p=0):(c=0,p=4);c=b.getInt32(a+c,f);b=b.getInt32(a+p,f)+e(32)*c;return b>=d?(window.console.info("Int is bigger than JS can represent."),Infinity):b},F:"getFloat32",
D:"getFloat64"},A=!0;try{var y=new Uint8Array(new ArrayBuffer(4));y[0]=66;y[1]=76;y[2]=85;y[3]=69;"BLUE"!==String.fromCharCode.apply(null,y)&&(A=!1)}catch(V){A=!1}b.BlueHeader=function(b,a){this.options={ext_header_type:"dict"};d.update(this.options,a);this.buf=b;if(null!=this.buf){var f=new DataView(this.buf);this.version=g(this.buf.slice(0,4));this.headrep=g(this.buf.slice(4,8));this.datarep=g(this.buf.slice(8,12));var c="EEEI"===this.headrep,p="EEEI"===this.datarep;this.ext_start=f.getInt32(24,
c);this.ext_size=f.getInt32(28,c);this.type=f.getUint32(48,c);this["class"]=this.type/1E3;this.format=g(this.buf.slice(52,54));this.timecode=f.getFloat64(56,c);1===this["class"]?(this.xstart=f.getFloat64(256,c),this.xdelta=f.getFloat64(264,c),this.xunits=f.getInt32(272,c),this.yunits=f.getInt32(296,c),this.subsize=1):2===this["class"]&&(this.xstart=f.getFloat64(256,c),this.xdelta=f.getFloat64(264,c),this.xunits=f.getInt32(272,c),this.subsize=f.getInt32(276,c),this.ystart=f.getFloat64(280,c),this.ydelta=
f.getFloat64(288,c),this.yunits=f.getInt32(296,c));this.data_start=f.getFloat64(32,c);this.data_size=f.getFloat64(40,c);var f=this.data_start,l=this.data_start+this.data_size;this.ext_size&&(this.ext_header=this.unpack_keywords(this.buf,this.ext_size,512*this.ext_start,c));this.setData(this.buf,f,l,p)}};b.BlueHeader.prototype={setData:function(b,a,c,d){1===this["class"]?(this.spa=p[this.format[0]],this.bps=l[this.format[1]],this.bpa=this.spa*this.bps,this.ape=1,this.bpe=this.ape*this.bpa):2===this["class"]&&
(this.spa=p[this.format[0]],this.bps=l[this.format[1]],this.bpa=this.spa*this.bps,this.ape=this.subsize,this.bpe=this.ape*this.bpa);void 0===d&&(d="LE"===f);if("LE"===f&&!d)throw"Not supported "+f+" "+d;if("BE"===f&&this.littleEndianData)throw"Not supported "+f+" "+d;b?(this.dview=a&&c?this.createArray(b,a,(c-a)/this.bps):this.createArray(b),this.size=this.dview.length/(this.spa*this.ape)):this.dview=this.createArray(null,null,this.size)},unpack_keywords:function(b,a,f,c){var d,p,l,n,e,A,y=[],q={},
Y={},B=0;b=b.slice(f,b.length);var u=new DataView(b);for(b=g(b);B<a;)A=B+8,f=u.getUint32(B,c),d=u.getInt16(B+4,c),p=u.getInt8(B+6,c),l=b.slice(B+7,B+8),d=f-d,e=A+d,p=b.slice(e,e+p),"A"===l?n=b.slice(A,A+d):L[l]?n="string"===typeof L[l]?u[L[l]](A,c):L[l](u,A,c):window.console.info("Unsupported keyword format "+l+" for tag "+p),"undefined"===typeof q[p]?q[p]=1:(q[p]++,p=""+p+q[p]),Y[p]=n,y.push({tag:p,value:n}),B+=f;b=["dict","json",{},"XMTable","JSON","DICT"];for(var w in b)if(b[w]===this.options.ext_header_type)return Y;
return y},createArray:function(b,a,f){var c=n[this.format[1]];if(void 0===c)throw"unknown format "+this.format[1];void 0===a&&(a=0);void 0===f&&(f=b.length||b.byteLength/l[this.format[1]]);return b?new c(b,a,f):new c(f)}};b.BlueFileReader=function(b){this.options=b};b.BlueFileReader.prototype={readheader:function(a,f){var c=this,p=new FileReader,d=a.webkitSlice(0,512);p.onloadend=function(a){return function(d){d.target.error?f(null):(d=new b.BlueHeader(p.result,c.options),d.file=a,f(d))}}(a);p.readAsArrayBuffer(d)},
read:function(a,f){var c=this,p=new FileReader;p.onloadend=function(a){return function(d){d.target.error?f(null):(d=new b.BlueHeader(p.result,c.options),d.file=a,d.file_name=a.name,f(d))}}(a);p.readAsArrayBuffer(a)},read_http:function(f,p){var d=this,l=new XMLHttpRequest;l.open("GET",f,!0);l.responseType="arraybuffer";l.overrideMimeType("text/plain; charset=x-user-defined");l.onload=function(n){if(4!==l.readyState||200!==l.status&&0!==l.status)p(null);else if(n=null,l.response){n=l.response;n=new b.BlueHeader(n,
d.options);a(f);var e=a(f);n.file_name=e.file;p(n)}else l.responseText&&c(l.responseText,function(c){c=new b.BlueHeader(c,d.options);a(f);var l=a(f);c.file_name=l.file;p(c)})};l.onerror=function(b){p(null)};l.send(null)}};v.exports=b})()},{"./common":3}],3:[function(D,v,H){(function(){v.exports={};window.ArrayBuffer&&!ArrayBuffer.prototype.slice&&(ArrayBuffer.prototype.slice=function(b,g){var e=new Uint8Array(this);void 0===g&&(g=e.length);for(var a=new ArrayBuffer(g-b),c=new Uint8Array(a),d=0;d<
c.length;d++)c[d]=e[d+b];return a});Array.prototype.remove=function(b,g){var e=this.slice((g||b)+1||this.length);this.length=0>b?this.length+b:b;return this.push.apply(this,e)};window.requestAnimFrame=function(b){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){return window.setTimeout(b,1E3/60)}}();window.cancelAnimFrame=function(b){return window.cancelAnimationFrame||
window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCanelAnimationFrame||function(b){window.clearTimeout(b)}}();v.exports.dashOn=function(b,g,e){return b.setLineDash?(b.setLineDash([g,e]),!0):void 0!==b.mozDash?(b.mozDash=[g,e],!0):b.webkitLineDash&&0===b.webkitLineDash.length?(b.webkitLineDash=[g,e],!0):!1};v.exports.dashOff=function(b){b.setLineDash?b.setLineDash([]):b.mozDash?b.mozDash=null:b.webkitLineDash&&(b.webkitLineDash=[])};v.exports.getKeyCode=
function(b){b=window.event||b;return b=b.charCode||b.keyCode};v.exports.setKeypressHandler=function(b){window.addEventListener?window.addEventListener("keypress",b,!1):window.attachEvent&&window.attachEvent("onkeypress",b)};Array.isArray||(Array.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)});window.Float64Array||(window.Float64Array=function(){return window.Float64Array||function(b,g,e){if(!(b instanceof ArrayBuffer))throw"Invalid type";var a=new DataView(b),c=[];
b=(b.byteLength-g)/8;c.length=void 0===e?b:Math.min(e,b);for(e=0;e<c.length;e++)c[e]=a.getFloat64(8*e+g,!0);c.subarray=function(b,a){return c.slice(b,a)};return c}}());(function(){var b=function(){};window.console||(window.console={log:b,info:b,warn:b,debug:b,error:b});if((new Int8Array([0,1,0])).subarray(1).subarray(1)[0]){var g=function(b,a){0===arguments.length?(b=0,a=this.length):(0>b&&(b+=this.length),b=Math.max(0,Math.min(this.length,b)),1===arguments.length?a=this.length:(0>a&&(a+=this.length),
a=Math.max(b,Math.min(this.length,a))));return new this.constructor(this.buffer,this.byteOffset+b*this.BYTES_PER_ELEMENT,a-b)};[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].forEach(function(b){b.prototype.subarray=g})}})();(function(b,g){function e(f,p,l,n){f[c](a+p,"wheel"===d?l:function(a){!a&&(a=b.event);var f={originalEvent:a,target:a.target||a.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===a.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){a.preventDefault?
a.preventDefault():a.returnValue=!1}};"mousewheel"===d?(f.deltaY=-0.025*a.wheelDelta,a.wheelDeltaX&&(f.deltaX=-0.025*a.wheelDeltaX)):f.deltaY=a.detail;return l(f)},n||!1)}var a="",c,d;b.addEventListener?c="addEventListener":(c="attachEvent",a="on");d="onwheel"in g.createElement("div")?"wheel":void 0!==g.onmousewheel?"mousewheel":"DOMMouseScroll";b.addWheelListener=function(b,a,c){e(b,d,a,c);"DOMMouseScroll"===d&&e(b,"MozMousePixelScroll",a,c)}})(window,document);v.exports.update=function g(e,a){for(var c in a){var d=
a[c];"object"===typeof d?g(e[c],d):e[c]=d}return e}})()},{}],4:[function(D,v,H){(function(){function b(){}function g(b){return(10>b?"0":"")+b}var e=D("./bluefile"),a=D("loglevel");b.log=a;navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||"undefined"===typeof Float64Array||Float64Array.emulated||!Float64Array.BYTES_PER_ELEMENT?b.PointArray=Float32Array:b.PointArray=Float64Array;var c={0:["None","U",!0,!0],1:["Time","sec",!0,!0],2:["Delay","sec",!0,!1],3:["Frequency","Hz",!0,!0],4:["Time code format",
"",!0,!1],5:["Distance","m",!0,!0],6:["Speed","m/s",!0,!0],7:["Acceleration","m/sec^2",!0,!0],8:["Jerk","m/sec^3",!0,!0],9:["Doppler","Hz",!0,!1],10:["Doppler rate","Hz/sec",!0,!0],11:["Energy","J",!0,!0],12:["Power","W",!0,!0],13:["Mass","g",!0,!0],14:["Volume","l",!0,!0],15:["Angular power density","W/ster",!0,!0],16:["Integrated power density","W/rad",!0,!0],17:["Spatial power density","W/m^2",!0,!0],18:["Integrated power density","W/m",!1,!0],19:["Spectral power density","W/MHz",!0,!0],20:["Amplitude",
"U",!0,!1],21:["Real","U",!0,!1],22:["Imaginary","U",!0,!1],23:["Phase","rad",!0,!0],24:["Phase","deg",!1,!0],25:["Phase","cycles",!1,!0],26:["10*Log","U",!0,!1],27:["20*Log","U",!0,!1],28:["Magnitude","U",!0,!1],29:["Unknown","U",!0,!1],30:["Unknown","U",!1,!1],31:["General dimensionless","",!0,!0],32:["Counts","",!0,!1],33:["Angle","rad",!0,!1],34:["Angle","deg",!1,!1],35:["Relative power","dB",!0,!0],36:["Relative power","dBm",!1,!0],37:["Relative power","dBW",!1,!0],38:["Solid angle","ster",!0,
!0],40:["Distance","ft",!1,!0],41:["Distance","nmi",!1,!0],42:["Speed","ft/sec",!1,!0],43:["Speed","nmi/sec",!1,!0],44:["Speed","knots=nmi/hr",!1,!0],45:["Acceleration","ft/sec^2",!1,!0],46:["Acceleration","nmi/sec^2",!1,!0],47:["Acceleration","knots/sec",!1,!0],48:["Acceleration","G",!1,!0],49:["Jerk","G/sec",!1,!0],50:["Rotation","rps",!0,!1],51:["Rotation","rpm",!1,!1],52:["Angular velocity","rad/sec",!0,!0],53:["Angular velocity","deg/sec",!1,!0],54:["Angular acceleration","rad/sec^2",!0,!0],
55:["Angular acceleration","deg/sec^2",!1,!0],60:["Latitude","deg",!0,!1],61:["Longitude","deg",!0,!1],62:["Altitude","ft",!0,!1],63:["Altitude","m",!1,!1]};b.UNITS=c;b.Mc={colormap:[{name:"Greyscale",colors:[{pos:0,red:0,green:0,blue:0},{pos:60,red:50,green:50,blue:50},{pos:100,red:100,green:100,blue:100},{pos:100,red:0,green:0,blue:0},{pos:100,red:0,green:0,blue:0},{pos:100,red:0,green:0,blue:0},{pos:100,red:0,green:0,blue:0}]},{name:"Ramp Colormap",colors:[{pos:0,red:0,green:0,blue:15},{pos:10,
red:0,green:0,blue:50},{pos:31,red:0,green:65,blue:75},{pos:50,red:0,green:85,blue:0},{pos:70,red:75,green:80,blue:0},{pos:83,red:100,green:60,blue:0},{pos:100,red:100,green:0,blue:0}]},{name:"Color Wheel",colors:[{pos:0,red:100,green:100,blue:0},{pos:20,red:0,green:80,blue:40},{pos:30,red:0,green:100,blue:100},{pos:50,red:10,green:10,blue:0},{pos:65,red:100,green:0,blue:0},{pos:88,red:100,green:40,blue:0},{pos:100,red:100,green:100,blue:0}]},{name:"Spectrum",colors:[{pos:0,red:0,green:75,blue:0},
{pos:22,red:0,green:90,blue:90},{pos:37,red:0,green:0,blue:85},{pos:49,red:90,green:0,blue:85},{pos:68,red:90,green:0,blue:0},{pos:80,red:90,green:90,blue:0},{pos:100,red:95,green:95,blue:95}]},{name:"calewhite",colors:[{pos:0,red:100,green:100,blue:100},{pos:16.666,red:0,green:0,blue:100},{pos:33.333,red:0,green:100,blue:100},{pos:50,red:0,green:100,blue:0},{pos:66.666,red:100,green:100,blue:0},{pos:83.333,red:100,green:0,blue:0},{pos:100,red:100,green:0,blue:100}]},{name:"HotDesat",colors:[{pos:0,
red:27.84,green:27.84,blue:85.88},{pos:14.2857,red:0,green:0,blue:35.69},{pos:28.571,red:0,green:100,blue:100},{pos:42.857,red:0,green:49.8,blue:0},{pos:57.14286,red:100,green:100,blue:0},{pos:71.42857,red:100,green:37.65,blue:0},{pos:85.7143,red:41.96,green:0,blue:0},{pos:100,red:87.84,green:29.8,blue:29.8}]},{name:"Sunset",colors:[{pos:0,red:10,green:0,blue:23},{pos:18,red:34,green:0,blue:60},{pos:36,red:58,green:20,blue:47},{pos:55,red:74,green:20,blue:28},{pos:72,red:90,green:43,blue:0},{pos:87,
red:100,green:72,blue:0},{pos:100,red:100,green:100,blue:76}]}]};b.PIPESIZE=1048576;b.unit_lookup=function(b){for(var a=0;64>a;a++){var d;d=void 0===c[a]?c[0]:c[a];var n=d[1],e=d[0]+" "+d[1],g=d[0]+"_"+d[1];if(b===d[0]){if(d[2])return a}else if(b===n){if(d[3])return a}else if(b===e||b===g)return a}return b};b.initialize=function(a,c){var d=new e.BlueHeader(null);d.version="BLUE";d.size=0;d.type=1E3;d.format="SF";d.timecode=0;d.xstart=0;d.xdelta=1;d.xunits=0;d.subsize=1;d.ystart=0;d.ydelta=1;d.yunits=
0;d.enabled_streaming_pcut=!1;c||(c={});for(var n in c)d[n]=c[n];d.xunits=b.unit_lookup(d.xunits);d.yunits=b.unit_lookup(d.yunits);1<d.subsize&&(d.type=2E3);d["class"]=d.type/1E3;if(2===d["class"]&&void 0===c.subsize)throw"subsize must be provided with type 2000 files";c.pipe?(d.pipe=!0,d.in_byte=0,d.out_byte=0,d.buf=new ArrayBuffer(c.pipesize||b.PIPESIZE),d.setData(d.buf),d.data_free=d.dview.length):d.setData(a);return d};b.force1000=function(b){2===b["class"]&&(b.size=b.size&&!b.pipe?b.subsize*
b.size:0,b.bpe/=b.subsize,b.ape=1)};b.grab=function(b,a,c,d){if(!b.dview)return 0;"C"===b.format[0]&&(c*=2);d=Math.min(a.length,b.dview.length-c);if(void 0===a.set)for(var e=0;e<d;e++)a[e]=b.dview[c+e];else a.set(b.dview.subarray(c,c+d));"C"===b.format[0]&&(d/=2);return d};b.filad=function(b,a,c){if(b.data_free<a.length)throw"Pipe full";var d=b.in_byte/b.dview.BYTES_PER_ELEMENT,e=d+a.length;if(e>b.dview.length){var e=b.dview.length-d,g=a.length-e;a.subarray?(b.dview.set(a.subarray(0,e),d),b.dview.set(a.subarray(e,
a.length),0)):(b.dview.set(a.slice(0,e),d),b.dview.set(a.slice(e,a.length),0));b.in_byte=g*b.dview.BYTES_PER_ELEMENT}else b.dview.set(a,d),b.in_byte=e*b.dview.BYTES_PER_ELEMENT%b.buf.byteLength;b.data_free-=a.length;if(b.onwritelisteners)for(a=0;a<b.onwritelisteners.length;a++)if(c)b.onwritelisteners[a]();else window.setTimeout(b.onwritelisteners[a],0)};b.pavail=function(b){return b.dview.length-b.data_free};b.grabx=function(b,a,c,d){var e=b.dview.length-b.data_free;void 0===d&&(d=0);if(!c)c=Math.min(a.length-
d,e);else if(c>a.length-d)throw"m.grabx : nget larger then available buffer space";if(0>c)throw"m.grabx : nget cannot be negative";if(c>e)return 0;var e=b.out_byte/b.dview.BYTES_PER_ELEMENT,g=e+c;if(g>=b.dview.length){var y=b.dview.length-e,g=g-b.dview.length;a.set(b.dview.subarray(e,b.dview.length),d);a.set(b.dview.subarray(0,g),d+y)}else a.set(b.dview.subarray(e,g),d);b.out_byte=g*b.dview.BYTES_PER_ELEMENT%b.buf.byteLength;b.data_free+=c;return c};b.addPipeWriteListener=function(b,a){b.onwritelisteners||
(b.onwritelisteners=[]);-1===b.onwritelisteners.indexOf(a)&&b.onwritelisteners.push(a)};b.units_name=function(b){b=c[b];return b[0]+" ("+b[1]+")"};b.trim_name=function(b){var a=b.indexOf("]");-1===a&&(a=b.indexOf("/"));-1===a&&(a=b.indexOf(":"));var c=b.substr(a+1,b.length).indexOf(".");0>c&&(c=b.length-a);return b.substr(a+1,a+c+1)};b.label=function(a,d){var l=["Unknown","U"];"string"===typeof a?l=[a,null]:Array.isArray(a)?l=a:(l=c[a],void 0===l&&(l=["Unknown","U"]));var n=b.mult_prefix(d);return l[1]?
l[0]+" ("+n+l[1]+")":l[0]};b.bound=function(b,a,c){return b<a?a:b>c?c:b};b.touch_distance=function(b,a){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)};b.mult_prefix=function(b){var a="?";1==b?a="":10==b?a="da":0.1==b?a="d":100==b?a="h":0.01==b?a="c":1E3==b?a="K":0.001==b?a="m":1E6==b?a="M":1E-6==b?a="u":1E9==b?a="G":1E-9==b?a="n":1E12==b?a="T":1E-12==b&&(a="p");return a};var d="F";b.vstype=function(b){d=b;"D"===d||"L"===d||"F"===d||"I"===d||"B"===d||alert("Unsupported vector type")};
b.log10=function(b,a){void 0===a&&(a=1E-20);return Math.log(Math.max(b,a))/Math.log(10)};b.vlog10=function(b,a,c){void 0===a&&(a=1E-20);void 0===c&&(c=b);for(var d=0;d<b.length&&!(c.length<=d);d++)c[d]=Math.log(Math.max(b[d],a))/Math.log(10)};b.vlogscale=function(b,a,c,d){void 0===a&&(a=1E-20);void 0===c&&(c=1);void 0===d&&(d=b);for(var e=0;e<b.length&&!(d.length<=e);e++)d[e]=Math.log(Math.abs(Math.max(b[e],a)))/Math.log(10),d[e]*=c};b.cvmag2logscale=function(b,a,c,d){void 0===a&&(a=1E-20);void 0===
c&&(c=1);void 0===d&&(d=b);for(var e=0,g=0;g<d.length;g++){e=2*g+1;if(e>=b.length)break;d[g]=b[e-1]*b[e-1]+b[e]*b[e];d[g]=Math.log(Math.abs(Math.max(d[g],a)))/Math.log(10);d[g]*=c}};b.vsmul=function(b,a,c,d){void 0===c&&(c=b);void 0===d&&(d=c.length);d=Math.min(c.length,d);d=Math.min(b.length,d);for(var e=0;e<d&&!(c.length<=e);e++)c[e]=b[e]*a};b.vmxmn=function(b,a){var c=b[0],d=b[0],e=0,g=0;a=Math.min(a,b.length);for(var y=0;y<a;y++)b[y]>c&&(c=b[y],e=y),b[y]<d&&(d=b[y],g=y);return{smax:c,smin:d,imax:e,
imin:g}};b.vmov=function(b,a,c,d,e){void 0===e&&(e=b.length);e=Math.min(b.length,e);for(var g=0;g<e;g++){var y=g*a,v=g*d;if(y>=b.length)break;if(v>=c.length)break;c[v]=b[y]}};b.vfill=function(b,a,c){void 0===c&&(c=b.length);c=Math.min(b.length,c);for(var d=0;d<c;d++)b[d]=a};b.vabs=function(b,a,c){void 0===c&&(c=b.length);void 0===a&&(a=b);for(var d=0;d<c;d++)a[d]=Math.abs(b[d])};b.cvmag=function(b,a,c){void 0===c&&(c=a.length);c=Math.min(a.length,c);for(var d=0;d<c;d++){var e=2*d+1;if(e>=b.length)break;
a[d]=Math.sqrt(b[e-1]*b[e-1]+b[e]*b[e])}};b.cvmag2=function(b,a,c){void 0===c&&(c=a.length);c=Math.min(a.length,c);for(var d=0,e=0;e<c;e++){d=2*e+1;if(d>=b.length)break;a[e]=b[d-1]*b[d-1]+b[d]*b[d]}};b.cvpha=function(b,a,c){void 0===c&&(c=a.length);c=Math.min(a.length,c);for(var d=0,e=0,g=d=0;g<c;g++){d=2*g+1;if(d>=b.length)break;e=b[d-1];d=b[d];0===e&&0===d&&(e=1);a[g]=Math.atan2(d,e)}};b.cvphad=function(b,a,c){void 0===c&&(c=a.length);c=Math.min(a.length,c);for(var d=0,e=0,g=d=0;g<c;g++){d=2*g+
1;if(d>=b.length)break;e=b[d-1];d=b[d];0===e&&0===d&&(e=1);a[g]=Math.atan2(d,e)*(180/Math.PI)}};b.trunc=function(b){return b-b%1};b.sign=function(b,a){return 0<=a?Math.abs(b):-Math.abs(b)};b.sec2tod=function(b,a){var c="",c=Date.UTC(1950,0,1);Date.UTC(1949,11,31);var d=new Date,d=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0,0);0<=b?86400>b?(c=d.getTime()+1E3*b,d=new Date(c),c=g(d.getHours())+":"+g(d.getMinutes())+":"+g(d.getSeconds())):86400===b?c="24:00:00":31536E3>b?(c=b/86400,c=[0<c?
Math.floor(c):Math.ceil(c)],d=new Date(1E3*b+d.getTime()),c=c.toString()+"::"+g(d.getHours())+":"+g(d.getMinutes())+":"+g(d.getSeconds())):(c=Math.floor(1E3*b)+c,d=new Date(c),c=d.getUTCFullYear()+":"+g(d.getUTCMonth()+1)+":"+g(d.getUTCDate())+"::"+g(d.getUTCHours())+":"+g(d.getUTCMinutes())+":"+g(d.getUTCSeconds())):-31536E3<b?(c=b/86400,c=0>=c?Math.ceil(c):Math.floor(c),d=new Date(Math.abs(1E3*b)+d.getTime()),c=0===c?"-0":c.toString(),c=c+"::"+g(d.getHours())+":"+g(d.getMinutes())+":"+g(d.getSeconds())):
(c=Math.floor(1E3*b)+c,d=new Date(c),c=d.getUTCFullYear()+":"+g(d.getUTCMonth()+1)+":"+g(d.getUTCDate())+"::"+g(d.getUTCHours())+":"+g(d.getUTCMinutes())+":"+g(d.getUTCSeconds()));c=0===b%1?c+".000000":c+("."+Math.abs(b%1).toPrecision(6).slice(2,8));if(a){var d=c.indexOf("."),e=-1;-1!==d&&(e=c.substr(d,c.length).indexOf("0"));-1!==e&&(c=c.substr(0,d+e))}return c};b.sec2tspec=function(a,c,d){c=c||"";if(0<=a&&86400>=a)return b.sec2tod(a,d);a%=86400;return"delta"!==c&&0>=a?b.sec2tod(a+86400,d):"delta"===
c&&0>=a?"-"+b.sec2tod(-1*a,d):b.sec2tod(a,d)};b.sec2tod_j1970=function(b){var a="";0<=b&&86400>b?(a=new Date(1E3*b),a=g(a.getHours())+":"+g(a.getMinutes())+":"+g(a.getSeconds())):0>b&&-31536E3<b?(a=new Date(1E3*b),a=(b/86400*-1).toString()+"::"+g(a.getHours())+":"+g(a.getMinutes())+":"+g(a.getSeconds())):(a=new Date(1E3*(b-631152E3)),a=a.getFullYear()+":"+g(a.getMonth())+":"+g(a.getDate())+"::"+g(a.getHours())+":"+g(a.getMinutes())+":"+g(a.getSeconds()));0!==b%1&&(a+="."+(b%1).toPrecision(6).slice(2,
8));return a};b.j1970toj1950=function(b){return void 0!==b.getTime?b.getTime()/1E3+631152E3:b+631152E3};b.j1950toj1970=function(b){return b-631152E3};b.throttle=function(b,a){var c=(new Date).getTime();return function(){var d=(new Date).getTime();d-c>=b&&(c=d,a.apply(null,arguments))}};v.exports=b})()},{"./bluefile":2,loglevel:12}],5:[function(D,v,H){(function(){function b(){}function g(){this.ymax=this.ymin=this.xmax=this.xmin=this.yl=this.xl=this.yo=this.xo=0;this.mode=this.func=void 0}function e(q){this.root=
q;this.parent=document.createElement("div");this.parent.style.position="relative";this.parent.width=q.clientWidth;this.parent.height=q.clientHeight;q.appendChild(this.parent);this.canvas=document.createElement("canvas");this.canvas.style.position="absolute";this.canvas.style.top="0px";this.canvas.style.left="0px";this.canvas.width=q.clientWidth;this.canvas.height=q.clientHeight;this.parent.appendChild(this.canvas);this.active_canvas=this.canvas;this.wid_canvas=document.createElement("canvas");this.wid_canvas.style.position=
"absolute";this.wid_canvas.style.top="0px";this.wid_canvas.style.left="0px";this.wid_canvas.style.zIndex=1;this.wid_canvas.width=q.clientWidth;this.wid_canvas.height=q.clientHeight;this.parent.appendChild(this.wid_canvas);this.font=void 0;this.font_family="Courier New, monospace";this.level=this.text_h=this.text_w=0;this.width=this.parent.width;this.height=this.parent.height;this.ymrk=this.xmrk=this.ypos=this.xpos=0;this.origin=1;this.stk=[new b.STKSTRUCT];b.setbgfg(this,"black","white");this.warpbox=
this.event_cb=void 0;this.rmode=!1;this.linewidth=1;this.style=void 0;this.xi=!1;this.l=this.state_mask=this.button_press=this.button_release=0;this.r=this.width;this.t=0;this.b=this.height;this.scrollbar_x=new b.SCROLLBAR;this.scrollbar_y=new b.SCROLLBAR;this.prompt=void 0;this.pixel=[];this._renderCanvas=document.createElement("canvas")}function a(q,b,a){var c=!1,d=!1;q>=b&&(c=!0);q<=a&&(d=!0);return!0===c&&!0===d?!0:!1}function c(q,b,a,c,d,h,M){d<=a?M>a&&0<(c-b)*(M-a)-(h-b)*(d-a)&&(q+=1):M<=a&&
0>(c-b)*(M-a)-(h-b)*(d-a)&&(q-=1);return q}function d(q,a){if(!a.animationFrameHandle){var c=Math.floor((q.canvas.height-70)/(1.5*q.text_h));z.n_show=c>=a.items.length?a.items.length:c;a.animationFrameHandle=requestAnimFrame(b.withWidgetLayer(q,function(){b.erase_window(q);a.animationFrameHandle=void 0;var c=1.5*q.text_h;a.x=Math.max(a.x,0);a.y=Math.max(a.y,0);a.x=Math.min(a.x,q.width-a.w);a.y=Math.min(a.y,q.height-a.h);var B=a.x+z.GBorder+Math.max(0,z.sidelab),d=a.y+z.GBorder+z.toplab*(c+z.GBorder),
M=a.w-2*z.GBorder-Math.abs(z.sidelab);b.widgetbox(q,a.x,a.y,a.w,a.h,B,d,M,a.h-2*z.GBorder-z.toplab*(c+z.GBorder),a.title);var k=q.wid_canvas.getContext("2d");k.lineWidth=1;k.strokeStyle=q.xwbs;k.beginPath();k.moveTo(B,d-4+0.5);k.lineTo(B+M-1,d-4+0.5);k.stroke();k.strokeStyle=q.xwts;k.beginPath();k.moveTo(B,d-3+0.5);k.lineTo(B+M-1,d-3+0.5);k.stroke();var r=a.queue[0],f=a.queue[z.n_show-1];if(0===f){for(f=0;f<z.n_show;f++)a.queue[f]=f;r=a.queue[0];f=a.queue[z.n_show-1]}for(var m=0;r<=f;r++){var s=a.items[r],
t=d+c*m,m=m+1;"separator"===s.style?(k.fillStyle=q.xwbs,k.fillRect(B,t,M,c),k.beginPath(),k.moveTo(B,t+0.5),k.lineTo(B+M,t+0.5),k.stroke(),k.textBaseline="middle",k.textAlign="left",k.fillStyle=q.xwfg,k.fillText(" "+s.text+" ",B+2*q.text_w,t+c/2)):(b.LEGACY_RENDER?(k.fillStyle=q.xwlo,k.fillRect(B,t,M,c),k.beginPath(),k.moveTo(B,t+0.5),k.lineTo(B+M,t+0.5),k.stroke(),s.selected&&b.shadowbox(q,B-1,t,M+2,c,1,2,"",0.75)):(k.save(),k.globalAlpha=0.75,k.fillStyle=s.selected?q.xwts:q.xwlo,k.fillRect(B,t,
M,c),k.restore(),k.strokeStyle=q.bg,k.beginPath(),k.moveTo(B,t+0.5),k.lineTo(B+M,t+0.5),k.stroke()),k.textBaseline="middle",k.textAlign="left",k.fillStyle=q.xwfg,"checkbox"===s.style?(k.fillText(" "+s.text+" ",B+2*q.text_w,t+c/2),k.strokeStyle=q.xwfg,k.strokeRect(B+1+q.text_w,t+(c-q.text_w)/2,q.text_w,q.text_w),s.checked&&(k.beginPath(),k.moveTo(B+1+q.text_w,t+(c-q.text_w)/2),k.lineTo(B+1+q.text_w+q.text_w,t+(c-q.text_w)/2+q.text_w),k.stroke(),k.beginPath(),k.moveTo(B+1+q.text_w+q.text_w,t+(c-q.text_w)/
2),k.lineTo(B+1+q.text_w,t+(c-q.text_w)/2+q.text_w),k.stroke())):(k.fillText(" "+s.text+" ",B,t+c/2),s.checked&&(k.beginPath(),k.moveTo(B+1,t+q.text_h/4),k.lineTo(B+1+q.text_w-2,t+q.text_h/4+q.text_h/2),k.lineTo(B+1,t+q.text_h/4+q.text_h),k.lineTo(B+1,t+q.text_h/4),k.fill())))}}))}}function f(q,a){b.onWidgetLayer(q,function(){b.erase_window(q)});q.menu=void 0;q.widget=null;for(var c=0;c<a.items.length;c++){var d=a.items[c];if(d.selected){d.handler?d.handler():d.menu&&(c=d.menu,"function"===typeof d.menu&&
(c=d.menu()),c.finalize=a.finalize,b.menu(q,c));break}}!q.menu&&a.finalize&&a.finalize()}function p(q,a){b.onWidgetLayer(q,function(){b.erase_window(q)});q.menu=void 0;q.widget=null;!q.menu&&a.finalize&&a.finalize()}function l(b,a,c){var d=!0,w;w=a/b;0<b?w>c.tL?d=!1:w>c.tE&&(c.tE=w):0>b?w<c.tE?d=!1:w<c.tL&&(c.tL=w):0<a&&(d=!1);return d}function n(b,a,c,d,w,h,M,k){0>a&&(a=0);0>c&&(c=0);0>d&&(d=0);0>w&&(w=0);k&&(b.lineWidth=k);M&&(b.strokeStyle=M);1===b.lineWidth%2&&(a===d&&(d=a=Math.floor(a)+0.5),
c===w&&(w=c=Math.floor(c)+0.5));if(!h||!h.mode)b.beginPath(),b.moveTo(a,c),b.lineTo(d,w),b.stroke(),b.beginPath();else if("dashed"===h.mode){if(O.dashOn(b,h.on,h.off))b.beginPath(),b.moveTo(a,c),b.lineTo(d,w),b.stroke(),O.dashOff(b);else if(b.beginPath(),c===w)for(w=Math.min(a,d),d=Math.max(a,d);w<d;)b.moveTo(w,c),b.lineTo(w+h.on,c),b.stroke(),w+=h.on+h.off;else if(a===d)for(d=Math.min(c,w),w=Math.max(c,w);d<w;)b.moveTo(a,d),b.lineTo(a,d+h.on),b.stroke(),d+=h.on+h.off;else throw"Only horizontal or vertical dashed lines are supported";
b.beginPath()}else if("xor"===h.mode)if("undefined"===typeof Uint8ClampedArray)b.beginPath(),b.moveTo(a,c),b.lineTo(d,w),b.stroke(),b.beginPath();else{M=h=0;if(c===w)h=Math.abs(d-a),M=k,a=Math.min(a,d);else if(a===d)h=k,M=Math.abs(w-c),c=Math.min(c,w);else throw"Only horizontal and vertical lines can be drawn with XOR";if(0!==h&&0!==M){a=Math.floor(a);c=Math.floor(c);d=b.getImageData(a,c,h,M);w=d.data;h=0;for(k=w.length;h<k;h+=4)w[h]=255-w[h],w[h+1]=255-w[h+1],w[h+2]=255-w[h+2],w[h+3]=255;b.putImageData(d,
a,c);b.clearRect(0,0,1,1)}}}function L(b,a,c,d,w){A(b,a,w);c&&(b.strokeStyle=c);d&&(b.fillStyle=d);b.fill();b.closePath()}function A(b,a,c){if(!(1>a.length)){var d=a[0].x,w=a[0].y;b.lineWidth=c?c:1;b.beginPath();b.moveTo(d,w);for(c=0;c<a.length;c++)d=a[c].x,w=a[c].y,b.lineTo(d,w)}}function y(b){return Math.floor(Math.round(b/100*255))}function V(b,a,c){return"rgb("+Math.round(b)+", "+Math.round(a)+", "+Math.round(c)+")"}function F(b,a){var c,d;if(".000000"===b.substring(5,8))c=4;else for(c=b.length-
1;"0"===b[c];)c-=1;for(d=0;" "===b[d]&&(5<c-d+1||a);)d+=1;c=b.substring(d,c+1);-1===c.indexOf(".")&&(c+=".");return c}function Q(q){q._animationFrameHandle=void 0;var a=q.warpbox;q.active_canvas.getContext("2d");if(a&&q.xpos>=a.xmin&&q.xpos<=a.xmax&&q.ypos>=a.ymin&&q.ypos<=a.ymax){a.xl=q.xpos;a.yl=q.ypos;var c=Math.min(a.xo,a.xl),d=Math.min(a.yo,a.yl),w=Math.abs(a.xl-a.xo),h=Math.abs(a.yl-a.yo);0!==w&&0!==h&&("vertical"===a.mode?(c=q.l,w=q.r-q.l):"horizontal"===a.mode&&(d=q.t,h=q.b-q.t),b.onWidgetLayer(q,
function(){b.erase_window(q);b.draw_box(q,"xor",c,d,w,h,a.style.opacity,a.style.fill_color)}))}}function H(b,a,c,d,w,h,M,k,r,f,m,s,t){void 0===f&&(f=0);void 0===m&&(m=0);void 0===s&&(s=c.width-f);void 0===t&&(t=c.height-m);b._renderCanvas.width=c.width;b._renderCanvas.height=c.height;for(var e=b._renderCanvas.getContext("2d"),g=e.createImageData(b._renderCanvas.width,b._renderCanvas.height),p=new Uint8Array(c),l=0;l<c.height;++l)for(var n=0;n<c.width;++n){var x=4*(l*c.width+n);g.data[x]=p[x];g.data[x+
1]=p[x+1];g.data[x+2]=p[x+2];g.data[x+3]=255}e.putImageData(g,0,0);a.save();a.globalAlpha=d;w||(a.imageSmoothingEnabled=!1,a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1);a.drawImage(b._renderCanvas,f,m,s,t,h,M,k,r);a.restore()}function ba(b,a,c,d,w,h,M,k,r,f,m,s,t){void 0===f&&(f=0);void 0===m&&(m=0);void 0===s&&(s=c.width-f);void 0===t&&(t=c.height-m);if(32768>c.width&&32768>c.height){b._renderCanvas.width=c.width;b._renderCanvas.height=c.height;var e=b._renderCanvas.getContext("2d"),
g=e.createImageData(b._renderCanvas.width,b._renderCanvas.height);c=new Uint8ClampedArray(c);g.data.set(c);e.putImageData(g,0,0)}else 32768>s&&32768>t?(b._renderCanvas.width=s,b._renderCanvas.height=t,W(b._renderCanvas,c,f,m,s,t)):(b._renderCanvas.width=Math.min(2*k,c.width),b._renderCanvas.height=Math.min(2*r,c.height),W(b._renderCanvas,c,f,m,s,t),s=b._renderCanvas.width,t=b._renderCanvas.height),m=f=0;a.save();a.globalAlpha=d;w||(a.imageSmoothingEnabled=!1,a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=
!1);a.drawImage(b._renderCanvas,f,m,s,t,h,M,k,r);a.restore()}function W(b,a,c,d,w,h){var f=new Uint32Array(a);w||(w=a.width);h||(h=a.height);c||(c=0);d||(d=0);var k=b.width,r=b.height;b=b.getContext("2d");var e=b.createImageData(k,r),m=new ArrayBuffer(e.data.length),s=new Uint8ClampedArray(m),m=new Uint32Array(m);w/=k;h/=r;for(var t=0,g=0,r=t=0;r<m.length;r++)t=Math.round(Math.floor(r%k)*w)+c,g=Math.round(Math.floor(r/k)*h)+d,t=Math.floor(g*a.width+t),m[r]=f[t];e.data.set(s);b.putImageData(e,0,0)}
var P=D("tinycolor2"),O=D("./common"),C=D("./CanvasInput"),x=D("./m");b.XW_INIT=-3;b.XW_DRAW=1;b.XW_EVENT=2;b.XW_UPDATE=3;b.XW_COMMAND=5;b.SB_EXPAND=1;b.SB_SHRINK=2;b.SB_FULL=3;b.SB_STEPINC=4;b.SB_STEPDEC=5;b.SB_PAGEINC=6;b.SB_PAGEDEC=7;b.SB_DRAG=8;b.SB_WHEELUP=9;b.SB_WHEELDOWN=10;b.L_ArrowLeft=1001;b.L_ArrowRight=1002;b.L_ArrowUp=1003;b.L_ArrowDown=1004;b.L_dashed=801;b.GBorder=3;b.L_RModeOff=900;b.L_RModeOn=901;b.L_PixelSymbol=1;b.L_CircleSymbol=2;b.L_SquareSymbol=3;b.L_PlusSymbol=4;b.L_XSymbol=
5;b.L_TriangleSymbol=6;b.L_ITriangleSymbol=7;b.L_HLineSymbol=8;b.L_VLineSymbol=9;b.LEGACY_RENDER=!1;b.STKSTRUCT=function(){this.y2=this.x2=this.y1=this.x1=this.yscl=this.xscl=this.ymax=this.ymin=this.xmax=this.xmin=0};b.SCROLLBAR=function(){this.repeat_count=this.origin=this.mxevent=this.arrow=this.a2=this.a1=this.soff=this.swmin=this.sw=this.s1=this.h=this.w=this.y=this.x=this.repeat_pause=this.initial_pause=this.dragoutline=this.scale=this.page=this.step=this.trange=this.tmin=this.srange=this.smin=
this.action=this.flag=null};b.open=function(a){a=new e(a);a.wid_canvas.oncontextmenu=function(b){b.preventDefault();return!1};this._ctx=a.active_canvas.getContext("2d");a.onmousemove=function(a){return function(q){var c=q.target.getBoundingClientRect();a.x=q.x||q.clientX;a.y=q.y||q.clientY;a.xpos=void 0===q.offsetX?q.pageX-c.left-window.scrollX:q.offsetX;a.ypos=void 0===q.offsetX?q.pageY-c.top-window.scrollY:q.offsetY;a.warpbox&&(a.warpbox.style=(q.ctrlKey||q.metaKey)&&void 0!==a.warpbox.alt_style?
a.warpbox.alt_style:a.warpbox.def_style,b.redraw_warpbox(a));b.widget_callback(a,q)}}(a);a.onmouseup=function(a){return function(q){if(a.warpbox){b.onWidgetLayer(a,function(){b.erase_window(a)});var c=a.warpbox;a.warpbox=void 0;if((1===q.which||3===q.which)&&c.func){var d=c.xo,h=c.yo,f=c.xl,k=c.yl;"vertical"===c.mode?(d=a.l,f=a.r):"horizontal"===c.mode&&(h=a.t,k=a.b);c.func(q,d,h,f,k,c.style.return_value,c.mode)}}b.widget_callback(a,q)}}(a);a.onmousedown=function(a){return function(q){q.preventDefault();
b.widget_callback(a,q);return!1}}(a);a.onkeydown=function(a){return function(q){if(a.warpbox){var c=O.getKeyCode(q);17!==c&&224!==c&&91!==c&&93!==c||a.warpbox.style===a.warpbox.alt_style||(a.warpbox.style=a.warpbox.alt_style,b.redraw_warpbox(a))}b.widget_callback(a,q)}}(a);a.onkeyup=function(a){return function(q){a.warpbox&&(q=O.getKeyCode(q),17!==q&&224!==q&&91!==q&&93!==q||a.warpbox.style===a.warpbox.def_style||(a.warpbox.style=a.warpbox.def_style,b.redraw_warpbox(a)))}}(a);a.ontouchend=function(b){return function(a){b.onmouseup({which:1})}}(a);
a.ontouchmove=function(a){return function(q){var c=a.canvas,d=0,h=0;if(void 0!==c.offsetParent){do d+=c.offsetLeft,h+=c.offsetTop;while(c=c.offsetParent)}a.xpos=q.targetTouches[0].pageX-d;a.ypos=q.targetTouches[0].pageY-h;b.redraw_warpbox(a)}}(a);b.enableListeners(a);return a};b.enableListeners=function(a){b.addEventListener(a,"mousemove",a.onmousemove,!1);window.addEventListener("mouseup",a.onmouseup,!1);b.addEventListener(a,"mousedown",a.onmousedown,!1);window.addEventListener("keydown",a.onkeydown,
!1);window.addEventListener("keyup",a.onkeyup,!1)};b.disableListeners=function(a){b.removeEventListener(a,"mousemove",a.onmousemove,!1);window.removeEventListener("mouseup",a.onmouseup,!1);b.removeEventListener(a,"mousedown",a.onmousedown,!1);window.removeEventListener("keydown",a.onkeydown,!1);window.removeEventListener("keyup",a.onkeyup,!1)};b.addEventListener=function(b,a,c,d){return b.wid_canvas.addEventListener(a,c,d)};b.removeEventListener=function(b,a,c,d){return b.wid_canvas.removeEventListener(a,
c,d)};b.dispatchEvent=function(b,a){return b.wid_canvas.dispatchEvent(a)};b.onWidgetLayer=function(a,c){b.onCanvas(a,a.wid_canvas,c)};b.onCanvas=function(b,a,c){var d=b.active_canvas;b.active_canvas=a;try{if(c)return c()}finally{b.active_canvas=d}};b.withWidgetLayer=function(a,c){return function(){b.onWidgetLayer(a,c)}};b.render=function(b,a){if(a){var c=b.active_canvas;c._animationFrameHandle||(c._animationFrameHandle=requestAnimFrame(function(){c._animationFrameHandle=void 0;a()}))}};b.fullscreen=
function(a,c){void 0===c&&(c=!a.fullscreen);c?(a.fullscreen={position:a.root.style.position,height:a.root.style.height,width:a.root.style.width,left:a.root.style.left,top:a.root.style.top,zIndex:a.root.style.zIndex},a.root.style.position="fixed",a.root.style.height="100%",a.root.style.width="100%",a.root.style.left="0px",a.root.style.top="0px",a.root.style.zIndex=16777271):(a.root.style.position=a.fullscreen.position,a.root.style.height=a.fullscreen.height,a.root.style.width=a.fullscreen.width,a.root.style.left=
a.fullscreen.left,a.root.style.top=a.fullscreen.top,a.root.style.zIndex=a.fullscreen.zIndex,a.fullscreen=void 0);b.checkresize(a)};b.checkresize=function(b){var a=b.canvas;return a.height!==b.root.clientHeight||a.width!==b.root.clientWidth?(b.height=b.root.clientHeight,b.width=b.root.clientWidth,b.canvas.height=b.height,b.canvas.width=b.width,b.wid_canvas.height=b.height,b.wid_canvas.width=b.width,!0):!1};b.invertbgfg=function(a){b.setbgfg(a,a.fg,a.bg,!a.xi)};b.mixcolor=function(b,a,c){b=P(b).toRgb();
a=P(a).toRgb();var d=1-c;a.r=b.r*d+a.r*c;a.g=b.g*d+a.g*c;a.b=b.b*d+a.b*c;return P(a).toHexString(!0)};b.linear_gradient=function(b,a,c,d,w,h){var f=b.active_canvas.getContext("2d");b=1/h.length;a=f.createLinearGradient(a,c,d,w);for(c=0;c<h.length-1;c++)a.addColorStop(b*c,h[c]);a.addColorStop(1,h[h.length-1]);return a};b.setbgfg=function(a,c,d,u){a.bg=P(c).toHexString();a.fg=P(d).toHexString();a.xi=P(u).toHexString();P.equals(a.bg,"black")&&P.equals(a.fg,"white")?(a.xwfg=a.fg,a.xwbg="rgb(35%,35%,30%)",
a.xwts="rgb(60%,60%,55%)",a.xwbs="rgb(25%,25%,20%)",a.xwms=b.mixcolor(a.xwts,a.xwbs,0.5),a.xwlo="rgb(15%,15%,10%)",a.hi=a.xwts):P.equals(a.bg,"white")&&P.equals(a.fg,"black")?(a.xwfg=a.fg,a.xwbg="rgb(60%,60%,55%)",a.xwts="rgb(80%,80%,75%)",a.xwbs="rgb(40%,40%,35%)",a.xwms=b.mixcolor(a.xwts,a.xwbs,0.5),a.xwlo="rgb(70%,70%,65%)",a.hi=a.xwbs):(c=P(a.bg).toRgb(),127.5<Math.sqrt(0.299*c.r*c.r+0.587*c.g*c.g+0.114*c.b*c.b)?(a.xwfg="black",a.xwbg="rgb(60%,60%,55%)",a.xwts="rgb(80%,80%,75%)",a.xwbs="rgb(40%,40%,35%)",
a.xwms=b.mixcolor(a.xwts,a.xwbs,0.5),a.xwlo="rgb(70%,70%,65%)",a.hi=a.xwts):(a.xwfg="white",a.xwbg="rgb(35%,35%,30%)",a.xwts="rgb(60%,60%,55%)",a.xwbs="rgb(25%,25%,20%)",a.xwms=b.mixcolor(a.xwts,a.xwbs,0.5),a.xwlo="rgb(15%,15%,10%)",a.hi=a.xwbs))};b.settheme=function(a,b){a.bg=b.bg;a.fg=b.fg;a.xi=b.xi;a.xwfg=b.xwfg;a.xwbg=b.xwbg;a.xwts=b.xwts;a.xwbs=b.xwbs;a.xwlo=b.xwlo;a.hi=b.hi};b.close=function(a){var b=a.wid_canvas;b.removeEventListener("mousemove",a.onmousemove,!1);b.removeEventListener("mouseup",
a.onmouseup,!1);a.parent&&a.parent.parentNode&&a.parent.parentNode.removeChild(a.parent)};b.scrollbar=function(a,c,d,u,w,h,f,k,r,e,m){var s,t,g,p=0,l=new b.SCROLLBAR;s=void 0!==c.flag?c.flag:c;t=Math.abs(s);g=h-w>u-d?3>a.origin?2:4:a.origin&2?3:1;10>t&&(c=l);if(10>t||0===c.action)b.scroll(a,c,b.XW_INIT,void 0,m),c.flag=s,c.initial_pause=-1,b.scroll_loc(c,d,w,u-d+1,h-w+1,g,m);c.srange=f.pe-f.ps;switch(t){case 0:d=u=w=1;break;case 1:case 11:d=u=0.9*c.srange;w=2;break;case 2:case 12:d=0.1*c.srange;u=
9*d;w=2;break;case 3:case 13:d=1;u=c.srange-1;w=1;break;default:return 0}b.scroll_vals(c,f.ps,c.srange,k,r-k,d,u,w,m);0===s?b.scroll(a,c,b.XW_DRAW,void 0,void 0):b.scroll(a,c,b.XW_EVENT,e,m)&&(f.ps!==c.smin&&(f.ps=c.smin,p+=1),f.pe!==c.smin+c.srange&&(f.pe=c.smin+c.srange,p+=2));return p};b.scroll=function(a,c,d,u,w){var h;if(void 0===c)return!1;switch(d){case b.XW_INIT:b.scroll_loc(c,0,0,a.width,20,1,w);b.scroll_vals(c,0,10,0,100,1,10,1,w);c.flag=0;c.action=0;c.initial_pause=0.25;c.repeat_pause=
0.05;c.mxevent=!0;c.repeat_count=0;break;case b.XW_EVENT:h=0;if(c.mxevent)h=a.button_release?-a.button_release:a.button_press;else if("mousedown"===u.type||"mouseup"===u.type){switch(u.which){case 1:h=1;break;case 2:h=2;break;case 3:h=3;break;case 4:h=4;break;case 5:h=5}"mouseup"===u.type&&(h=-h)}else if("mousewheel"===u.type||"DOM-MouseScroll"===u.type)u.wheelDelta&&0<u.wheelDelta?h=4:u.wheelDelta&&0>u.wheelDelta&&(h=5);if(0===c.action){if(4===h||5===h)a.xpos=c.x;if(1!==h&&2!==h&&4!==h&&5!==h||a.xpos<
c.x||a.ypos<c.y||a.xpos>c.x+c.w||a.ypos>c.y+c.h)return!1}else if(0>h){c.action=c.repeat_count=0;break}c.origin&1?(u=a.xpos-c.x,c.origin&2&&(u=c.w-u)):(u=a.ypos-c.y,2>=c.origin&&(u=c.h-u));if(0===c.action){c.repeat_count=0;var f=b.scroll_real2pix(c);c.s1=w.s1=f.s1;c.sw=w.sw=f.sw;c.soff=w.soff=u-c.s1;if(0===c.trange)c.smin=w.smin=c.tmin,c.srange=w.srange=0;else switch(h){case 1:c.action=u>c.a1&&u<c.a2?0<c.soff?b.SB_PAGEINC:b.SB_PAGEDEC:0<c.soff?b.SB_STEPINC:b.SB_STEPDEC;break;case 4:c.action=b.SB_WHEELUP;
break;case 5:c.action=b.SB_WHEELDOWN;break}}else switch(c.action){case b.SB_WHEELUP:case b.SB_WHEELDOWN:case b.SB_EXPAND:case b.SB_SHRINK:case b.SB_FULL:c.action=c.repeat_count=0}case b.XW_COMMAND:h=c.smin;u=c.srange;switch(c.action){case b.SB_STEPINC:h+=c.step;break;case b.SB_STEPDEC:h-=c.step;break;case b.SB_PAGEINC:h+=c.page;break;case b.SB_PAGEDEC:h-=c.page;break;case b.SB_FULL:h=c.tmin;u=c.trange;break;case b.SB_EXPAND:u*=c.scale;h=0>=h&&0<=h+c.srange?h*c.scale:h-(u-c.srange)/2;break;case b.SB_SHRINK:u/=
c.scale;h=0>h&&0<=h+c.srange?h+u/c.scale:0===h&&0<=h+c.srange?u/c.scale:h+(c.srange-u)/2;break;case b.SB_WHEELUP:h-=c.page;break;case b.SB_WHEELDOWN:h+=c.page}0<c.trange?(h=Math.max(c.tmin,Math.min(h,c.tmin+c.trange-u)),u=Math.min(u,c.trange)):(h=Math.min(c.tmin,Math.max(h,c.tmin+c.trange-u)),u=Math.max(u,c.trange));c.smin===h&&c.srange===u?c.action!==b.SB_DRAG&&(c.action=c.repeat_count=0):(c.smin=w.smin=h,c.srange=w.srange=u,c.repeat_count++);d===b.XW_COMMAND&&(b.scroll(a,c,b.XW_UPDATE,void 0),c.action=
0);break;case b.XW_DRAW:case b.XW_UPDATE:b.redrawScrollbar(c,a,d)}return!0};b.scroll_loc=function(a,c,d,u,w,h,f){void 0!==a&&(a.x=f.x=c,a.y=f.y=d,a.w=f.w=u,a.h=f.h=w,a.origin=f.origin=Math.max(1,Math.min(4,h)),a.origin&1?(a.a2=f.a2=a.w,a.arrow=f.arrow=Math.min(x.trunc((a.w-x.trunc(2*b.GBorder))/3),a.h+b.GBorder)):(a.a2=f.a2=a.h,a.arrow=f.arrow=Math.min(x.trunc((a.h-x.trunc(2*b.GBorder))/3),a.w+b.GBorder)),a.a1=f.a1=a.arrow+b.GBorder,a.a2-=a.arrow+b.GBorder,f.a2-=a.arrow+b.GBorder,a.swmin=f.swmin=
Math.min(10,a.a2-a.a1),a.s1=f.s1=0,a.sw=f.sw=0,a.action=f.action=0)};b.scroll_vals=function(a,b,c,d,w,h,f,k,r){void 0!==a&&(a.smin=r.smin=b,a.srange=r.srange=c,a.tmin=r.tmin=d,a.trange=r.trange=w,a.step=r.step=h,a.page=r.page=f,a.scale=r.scale=Math.max(k,1))};b.draw_symbol=function(a,c,d,u,w,h,f){for(var k=a.active_canvas.getContext("2d"),r=0,e=0,m=0,s=!1,t=[],e=0;4>e;e++)t[e]={x:0,y:0};e="";s=0>h;r=Math.abs(h);e=2*r;k.fillStyle=c;k.strokeStyle=c;if("function"===typeof w)w(k,f,d,u);else switch(w){case b.L_CircleSymbol:k.beginPath();
s?(k.arc(d,u,r,0,360),k.fill()):(k.arc(d,u,r,0,360),k.stroke());break;case b.L_SquareSymbol:s?k.fillRect(d-r,u-r,e,e):k.strokeRect(d-r,u-r,e,e);break;case b.L_PixelSymbol:k.beginPath();k.arc(d,u,1,0,2*Math.PI,!0);k.fill();break;case b.L_ITriangleSymbol:r=-r;case b.L_TriangleSymbol:e=x.trunc(1.5*r);m=x.trunc(0.8*r);t[1].x=-m;t[1].y=e;t[2].x=2*m;t[2].y=0;t[3].x=-m;t[3].y=-e;a=[];for(e=0;4>e;e++)a[e]={x:0,y:0};s?(a[0].x=d,a[0].y=u-r,a[1].x=a[0].x+t[1].x,a[1].y=a[0].y+t[1].y,a[2].x=a[1].x+t[2].x,a[2].y=
a[1].y+t[2].y,a[3].x=a[2].x+t[3].x,a[3].y=a[2].y+t[3].y,L(k,a)):(a[0].x=d,a[0].y=u-r,a[1].x=a[0].x+t[1].x,a[1].y=a[0].y+t[1].y,a[2].x=a[1].x+t[2].x,a[2].y=a[1].y+t[2].y,a[3].x=a[2].x+t[3].x,a[3].y=a[2].y+t[3].y,A(k,a,void 0),k.stroke(),k.closePath());break;case b.L_PlusSymbol:n(k,d,u+r,d,u-r);n(k,d+r,u,d-r,u);break;case b.L_HLineSymbol:n(k,d+r,u,d-r,u);break;case b.L_VLineSymbol:n(k,d,u+r,d,u-r);break;case b.L_XSymbol:n(k,d-r,u-r,d+r,u+r);n(k,d+r,u-r,d-r,u+r);break;default:e=w,r=x.trunc(a.text_w/
2),s&&k.fillText(e.substring(0,2),d-r,u+r)}};b.draw_symbols=function(a,c,d,u,w,h,f,k){for(var r=0;r<w;r++)b.draw_symbol(a,c,d[r],u[r],h,f,r+k)};b.trace=function(q,d,B,u,w,h,f,k,r,e,m){if(void 0===B||void 0===u)throw"mx.trace requires xpoint and ypoint";void 0===f&&(f=1);void 0===k&&(k=1);void 0===r&&(r=0);void 0===e&&(e=0);void 0===m&&(m={});if(0>=w)x.log.warn("No points to draw");else if(0===k&&0===r)x.log.warn("No line or symbol to draw");else{var s;m.dashed&&(s={mode:"dashed",on:4,off:4});var t=
b.origin(q.origin,4,q.stk[q.level]);if(0!==t.xscl&&0!==t.yscl){var g=t.x1,p=t.y1,n=t.xmin,U=1/t.xscl,A=t.ymin,N=1/t.yscl;m.noclip||b.clip(q,g,p,t.x2-g+1,t.y2-p+1);var y=Math.abs(t.xmax-t.xmin),v=Math.abs(t.ymax-t.ymin),L=Math.min(t.xmin,t.xmax),Z=Math.min(t.ymin,t.ymax),z=L+y,D=Z+v,F=4*Math.ceil(2*B.length),t=new Int32Array(new ArrayBuffer(F)),F=new Int32Array(new ArrayBuffer(F)),G=0;if(0===k&&0!==r)for(var J=f-1;J<w;J+=f){var I=B[J],E=u[J],W=I>=L&&I<=z&&E>=Z&&E<=D;W&&(t[0]=Math.round((I-n)*U)+g,
F[0]=Math.round((E-A)*N)+p,b.draw_symbol(q,d,t[0],F[0],r,e,h+J))}if(!0===m.vertsym)for(J=f-1;J<w;J+=f)if(I=B[J],E=u[J],I>=L&&I<=z){var K=Math.round((I-n)*U)+g;b.draw_line(q,d,K,0,K,q.height);E>=Z&&E<=D&&(t[0]=K,F[0]=Math.round((E-A)*N)+p,b.draw_symbol(q,d,t[0],F[0],r,e,h+J))}if(!0===m.horzsym)for(J=f-1;J<w;J+=f)I=B[J],E=u[J],E>=Z&&E<=D&&(K=Math.round((E-A)*N)+p,b.draw_line(q,d,0,K,q.width,K),I>=L&&I<=z&&(t[0]=Math.round((I-n)*U)+g,F[0]=K,b.draw_symbol(q,d,t[0],F[0],r,e,h+J)));else if(0!==k){if(m&&
m.highlight){for(var K=[],C=0;C<m.highlight.length;C++)if(!(m.highlight[C].xstart>=z||m.highlight[C].xend<=L)&&(J=Math.max(m.highlight[C].xstart,L),I=Math.min(m.highlight[C].xend,z),J<I)){J=Math.round((J-n)*U)+g;I=Math.round((I-n)*U)+g;for(E=K.length-1;0<=E;E--)J<=K[E].start&&I>=K[E].end?K.splice(E,1):(J>=K[E].start&&I<=K[E].end?(K.push({start:I,end:K[E].end,color:K[E].color}),K[E].end=J):J<=K[E].start&&I>=K[E].start?K[E].start=I:J<=K[E].end&&I>=K[E].end&&(K[E].end=J),K[E].end<=K[E].start&&K.splice(E,
1));K.push({start:J,end:I,color:m.highlight[C].color})}K.push({start:g,color:d});K.sort(function(a,b){return a.start-b.start})}else K=d;var Q=(q.stk[q.level].xmax+q.stk[q.level].xmin)/2,V=(q.stk[q.level].ymax+q.stk[q.level].ymin)/2,I=B[0],E=u[0],C=c(0,Q,V,q.stk[q.level].xmin,q.stk[q.level].ymin,I,E);(W=I>=L&&I<=z&&E>=Z&&E<=D)?(t[G]=Math.round((I-n)*U)+g,F[G]=Math.round((E-A)*N)+p,G+=1,0!==r&&b.draw_symbols(q,d,t,F,1,r,e,h)):G=0;for(var H=0,P=!1,J=f;J<=f*(w-1);J+=f)if(y=I,v=E,I=B[J],E=u[J],C=c(C,Q,
V,y,v,I,E),P=I>=L&&I<=z&&E>=Z&&E<=D,W&&P)t[G]=Math.round((I-n)*U)+g,F[G]=Math.round((E-A)*N)+p,G+=1;else if(W=P,y-=I,v-=E,0!==y||0!==v){var O={tL:1,tE:0};l(y,L-I,O)&&l(-y,I-z,O)&&l(v,Z-E,O)&&l(-v,E-D,O)&&(1>O.tL&&(t[G]=Math.round((I-n+O.tL*y)*U)+g,F[G]=Math.round((E-A+O.tL*v)*N)+p,G+=1),0<O.tE?(t[G]=Math.round((I-n+O.tE*y)*U)+g,F[G]=Math.round((E-A+O.tE*v)*N)+p,G+=1,b.draw_lines(q,K,t.subarray(H,G),F.subarray(H,G),G-H,k,s),0!==r&&2<G-H&&b.draw_symbols(q,d,t.subarray(H+1,G-1),F.subarray(H+1,G-1),G-
H-2,r,e,h+J-(G-H-2)),H=G):(t[G]=Math.round((I-n)*U)+g,F[G]=Math.round((E-A)*N)+p,G+=1))}C=c(C,Q,V,I,E,q.stk[q.level].xmax,q.stk[q.level].ymin);C=c(C,Q,V,q.stk[q.level].xmax,q.stk[q.level].ymin,q.stk[q.level].xmin,q.stk[q.level].ymin);0<G-H&&(b.draw_lines(q,K,t.subarray(H,G),F.subarray(H,G),G-H,k,s),P&&(H+=1),0!==r&&1<G-H&&b.draw_symbols(q,d,t.subarray(H-1,G),F.subarray(H-1,G),G-H-1,r,e,J-G+h));!m.fillStyle||q.fillMin||q.fillMax||(1<G||0!==C)&&b.fill_trace(q,m.fillStyle,t,F,G);if(m.highlight)for(K=
0;K<m.highlight.length;K++)if(d=m.highlight[K],d.fill&&(u=d.xstart,B=d.xend,console.log("x start ",u),console.log("x end ",B),!(u>=q.stk[q.level].xmax||B<=q.stk[q.level].xmin)&&(1<G||0!==C))){u=b.real_to_pixel(q,u,0);w=b.real_to_pixel(q,B,0);B=u.x;u=w.x;w=[];h=[];for(f=0;f<G;f++)k=t[f],r=F[f],!0===a(k,B,u)&&(w.push(k),h.push(r));if(0<w.length||0!==C)B=Math.max(B,w[0]),u=Math.min(u,w[w.length-1]),b.fill_trace(q,d.fill,w,h,w.length,B,u)}}m.noclip||b.clip(q,0,0,0,0)}}};b.draw_mode=function(a,b,c){a.linewidth=
void 0===b?1:b;a.style=c};b.draw_line=function(a,b,c,d,f,h,e,k){var r=a.active_canvas.getContext("2d");void 0===e&&(e=a.linewidth);void 0===k&&(k=a.style);"number"===typeof b&&(a.pixel&&0!==a.pixel.length?(b=Math.max(0,Math.min(a.pixel.length,b)),b=V(a.pixel[b].red,a.pixel[b].green,a.pixel[b].blue)):(x.log.warn("COLORMAP not initialized, defaulting to foreground"),b=a.fg));n(r,c,d,f,h,k,b,e)};b.rubberline=function(a,b,c,d,f){a=a.active_canvas.getContext("2d");n(a,b,c,d,f,{mode:"xor"},"white",1)};
b.fill_trace=function(a,c,d,u,f,h,e){var k=a.active_canvas.getContext("2d");Array.isArray(c)?k.fillStyle=b.linear_gradient(a,0,0,0,a.b-a.t,c):k.fillStyle=c;if(1>f)k.fillRect(a.l,a.t,a.r-a.l,a.b-a.t);else if(void 0===h&&(h=a.l),void 0===e&&(e=a.r),c){c=d[0];var r=u[0];k.beginPath();r===a.t?k.lineTo(h,a.t):k.lineTo(h,a.b);k.lineTo(c,r);for(var g=1;g<f;g++)c=d[g],r=u[g],k.lineTo(c,r);r===a.t&&k.lineTo(e,a.t);k.lineTo(e,a.b);u[0]===a.t&&k.lineTo(h,a.b);k.closePath();k.fill("evenodd")}};b.draw_lines=function(a,
b,c,d,f,h,e){var k=a.active_canvas.getContext("2d");if(!(1>f)){var r=c[0],g=d[0];void 0===h&&(h=a.linewidth);void 0===e&&(e=a.style);e&&"dashed"===e.mode&&(O.dashOn(k,e.on,e.off)||x.log.warn("WARNING: Dashed lines aren't supported on your browser"));k.lineWidth=h;a=0;"string"===typeof b?b=[{start:0,color:b}]:b instanceof Array||(void 0===b.start&&(b.start=0),b=[b]);for(h=0;h<b.length;h++)null!=b[h].end&&b[h].end<r?b.remove(h):b[h].start<r&&(a=h);k.strokeStyle=b[a].color;k.beginPath();k.moveTo(r,g);
for(h=0;h<f;h++)if(r!==c[h]||g!==d[h]){r=c[h];g=d[h];e=!1;if(0<a&&null!=b[a].end&&b[a].end<r)for(e=!0;null!=b[a].end&&b[a].end<r&&(b.remove(a),a-=1,0!==a););if(a+1<b.length&&b[a+1].start<=r)for(e=!0;a+1<b.length&&b[a+1].start<=r;)a++;k.lineTo(r,g);e&&(k.stroke(),k.strokeStyle=b[a].color,k.beginPath(),k.lineTo(r,g))}k.stroke();O.dashOff(k);k.beginPath()}};b.clip=function(a,b,c,d,f){a=a.active_canvas.getContext("2d");0===b&&0===c&&0===d&&0===f?a.restore():(a.save(),a.beginPath(),a.rect(b,c,d,f),a.clip())};
b.clear_window=function(a){var b=a.active_canvas.getContext("2d");b.fillStyle=a.bg;b.fillRect(0,0,a.width,a.height)};b.erase_window=function(a){a.active_canvas.getContext("2d").clearRect(0,0,a.width,a.height)};b.rubberbox=function(a,c,d,f,w){b.warpbox(a,a.xpos,a.ypos,a.xpos,a.ypos,0,a.width,0,a.height,c,d,f,w)};b.warpbox=function(a,b,c,d,f,h,e,k,r,p,m,s,t){s||(s={});a.warpbox=new g;a.warpbox.xo=b;a.warpbox.yo=c;a.warpbox.xl=d;a.warpbox.yl=f;a.warpbox.xmin=h;a.warpbox.xmax=e;a.warpbox.ymin=k;a.warpbox.ymax=
r;a.warpbox.func=p;a.warpbox.mode=m;a.warpbox.style=s;a.warpbox.def_style=s;a.warpbox.alt_style=t};b.origin=function(a,c,d){a=Math.max(1,a);c=Math.max(1,c);var f=new b.STKSTRUCT;f.xmin=d.xmin;f.xmax=d.xmax;f.ymin=d.ymin;f.ymax=d.ymax;f.xscl=d.xscl;f.yscl=d.yscl;f.x1=d.x1;f.y1=d.y1;f.x2=d.x2;f.y2=d.y2;if(a!==c){var e=Math.abs(c-a);a=c+a;if(2===e||5!==a)f.xmin=d.xmax,f.xmax=d.xmin,f.xscl=-d.xscl;if(2===e||5===a)f.ymin=d.ymax,f.ymax=d.ymin,f.yscl=-d.yscl}return f};b.mult=function(a,b){var c=Math.max(Math.abs(a),
Math.abs(b));if(0===c)return 1;var d=0.1447648*Math.log(c),d=d|d;1>c&&(d-=1);return 0>d?1/Math.pow(10,-3*d):Math.pow(10,3*d)};b.widget_callback=function(a,b){if(a.prompt&&3===b.which)a.prompt.input.onsubmit();a.widget&&a.widget.callback(b)};b.prompt=function(a,c,d,f,e,h,g,k,r){if(void 0!==h&&(e=d(h),!e.valid))throw"Prompt default input value not valid due to '"+e.reason+"'";b.onWidgetLayer(a,function(){var e=a.active_canvas.getContext("2d"),m=e.font.indexOf("px"),s=m+3,m=e.font.substr(0,m),e=e.font.substr(s,
e.font.length).toString(),e=new C({height:a.text_h,fontFamily:e,fontSize:new Number(m),backgroundColor:a.bg,fontColor:a.fg,borderWidth:0,borderRadius:0,padding:0,boxShadow:"none",innerShadow:"none",width:30*a.text_w,value:void 0!==h?h.toString():"",disableBlur:!0,renderOnReturn:!1,tabToClear:!0}),t=function(c,m){return function(){var t=this.value(),h=d(t);h.valid?(a.prompt=void 0,this.cleanup(),b.onWidgetLayer(a,function(){b.erase_window(a)}),f(t)):(b.message(a,"Value: '"+t+"' isn't valid due to '"+
h.reason+"' - RETRY",void 0,c,m),setTimeout(function(){b.onWidgetLayer(a,function(){b.erase_window(a)});a.widget=null},null!=r?r:4E3))}},s=function(a,c,d){return function(q,m){b.onWidgetLayer(a,function(){var h=(d.length+2)*a.text_w,f=h+31*a.text_w+6,Y=2*a.text_h+6;q||(q=a.xpos);m||(m=a.ypos);var e=Math.max(0,Math.min(q,a.width-f)),B=Math.max(0,Math.min(m,a.height-Y)),k=e+3,s=B+3,u=s+1.5*a.text_h,w=k+a.text_w;b.widgetbox(a,e,B,f,Y,k,s,0,"");b.text(a,w,u,d);f=u-1.15*a.text_h;c.x(k+a.text_w+h-a.text_w);
c.y(f);c.onsubmit(t(e,f-75));c.canvas()?c.render():c.canvas(a.active_canvas)})}}(a,e,c);s(g,k);e.focus();a.prompt={redraw:s,input:e}})};b.floatValidator=function(a,b){return(void 0!==b&&!1!==b||""!==a)&&isNaN(parseFloat(a))||!isFinite(a)?{valid:!1,reason:"Failed float validation: not a valid floating point number"}:{valid:!0,reason:""}};b.intValidator=function(a,b){return(void 0===b||!1===b)&&""===a||parseFloat(a)===parseInt(a,10)&&!isNaN(a)?{valid:!0,reason:""}:{valid:!1,reason:"Failed integer validation: not a valid integer"}};
b.hexValidator=function(a,b){var c=/^(#)?([0-9a-fA-F]{3})([0-9a-fA-F]{3})?$/;return(void 0===b||!1===b)&&""===a||!1!==c.test(a)?{valid:!0,reason:""}:{valid:!1,reason:"Failed hexcode validation: not a valid hexcode"}};b.message=function(a,c,d,f,e,h){b.onWidgetLayer(a,function(){b.render_message_box(a,c,f,e);a.widget={type:h||"ONESHOT",callback:function(c){if("mousedown"===c.type||"keydown"===c.type)a.widget=null,b.onWidgetLayer(a,function(){b.erase_window(a)})}}})};b.render_message_box=function(a,
c,d,f,e){var h=c.split(/\r\n|\r|\n/g),g=0,k;if(1===h.length){g=Math.min((a.width-6)/a.text_w-2,c.length);if(0>=g)return;for(;40<g&&2.5*a.text_h*c.length<a.height*g;)g-=5;var r=0,p=0,m=0,s=0,t=0,l=0,h=[];for(k=!0;p<c.length;){for(var t=p+g-1,l=t=Math.min(t,c.length-1),n=!1,r=p;r<=t&&!n;r++)switch(c[r]){case ",":case ";":case " ":case ":":l=r;break;case "-":case "/":l!==r-1&&(l=r);break;case "@":case "\n":case "\r":k=!1,n=!0,l=r}r===c.length&&(l=t);n?h.push(c.substring(p,l)):(r=c.substring(p,l+1).replace(/^\s+/,
""),h.push(r));p=l+1;s=Math.max(s,h[m].length)}}else for(m=0;m<h.length;m++)g=Math.min((a.width-6)/a.text_w-2,Math.max(g,h[m].length));s=h.length;6<s&&(k=!1);r=0;m=Math.max(1,a.height/a.text_h);c=Math.min(s,r+m-1);g=(g+2)*a.text_w+6;s=(c-r+1)*a.text_h+6;d||(d=a.xpos);f||(f=a.ypos);d=Math.max(a.l,Math.min(d,a.r-g));m=Math.max(a.t,Math.min(f,a.b-s));f=d+3;l=m+3;b.widgetbox(a,d,m,g,s,f,l,0,"");s=l+a.text_h/3;for(m=f+a.text_w;r<c;)s+=a.text_h,k&&(m=d+g/2-h[r].length*a.text_w/2),b.text(a,m,s,h[r],e),r++};
b.draw_round_box=function(a,b,c,d,f,h,e,k,r){a=a.active_canvas.getContext("2d");r||(r=5);a.beginPath();a.moveTo(c+r,d);a.lineTo(c+f-r,d);a.quadraticCurveTo(c+f,d,c+f,d+r);a.lineTo(c+f,d+h-r);a.quadraticCurveTo(c+f,d+h,c+f-r,d+h);a.lineTo(c+r,d+h);a.quadraticCurveTo(c,d+h,c,d+h-r);a.lineTo(c,d+r);a.quadraticCurveTo(c,d,c+r,d);a.closePath();a.lineWidth=1;a.strokeStyle=b;a.stroke();void 0!==e&&0<e&&(c=a.globalAlpha,a.globalAlpha=e,a.fillStyle=k?k:b,a.fill(),a.globalAlpha=c)};b.draw_box=function(a,b,
c,d,f,h,e,k){var r=a.active_canvas.getContext("2d");if("xor"!==b)r.lineWidth=1,r.strokeStyle=b,r.strokeRect(c,d,f,h);else if("undefined"===typeof Uint8ClampedArray)r.lineWidth=1,r.strokeStyle=a.fg,r.strokeRect(c,d,f,h);else{c=Math.floor(c);d=Math.floor(d);f=Math.floor(f);h=Math.floor(h);a=a.canvas.getContext("2d");for(var g=a.getImageData(c,d,f,1),m=g.data,s=0;s<g.data.length;s++)m[4*s]=255-m[4*s],m[4*s+1]=255-m[4*s+1],m[4*s+2]=255-m[4*s+2],m[4*s+3]=255;r.putImageData(g,c,d);g=a.getImageData(c,d+
h,f,1);m=g.data;for(s=0;s<g.data.length;s++)m[4*s]=255-m[4*s],m[4*s+1]=255-m[4*s+1],m[4*s+2]=255-m[4*s+2],m[4*s+3]=255;r.putImageData(g,c,d+h);g=a.getImageData(c,d,1,h);m=g.data;for(s=0;s<h;s++)m[4*s]=255-m[4*s],m[4*s+1]=255-m[4*s+1],m[4*s+2]=255-m[4*s+2],m[4*s+3]=255;r.putImageData(g,c,d);g=a.getImageData(c+f,d,1,h);m=g.data;for(s=0;s<h;s++)m[4*s]=255-m[4*s],m[4*s+1]=255-m[4*s+1],m[4*s+2]=255-m[4*s+2],m[4*s+3]=255;r.putImageData(g,c+f,d)}void 0!==e&&0<e&&(a=r.globalAlpha,r.globalAlpha=e,r.fillStyle=
k?k:b,r.fillRect(c+1,d+1,f-1,h-1),r.globalAlpha=a)};b.set_font=function(a,b){var c=a.canvas.getContext("2d"),d=a.wid_canvas.getContext("2d");if(a.font&&a.font.width===b)c.font=a.font.font,d.font=a.font.font;else{var f=1;do{f+=1;c.font=f+"px "+a.font_family;d.font=f+"px "+a.font_family;var h=c.measureText("M");a.text_w=h.width;a.text_h=f}while(a.text_w<b);a.font={font:f+"px "+a.font_family,width:b}}};b.textline=function(a,b,c,d,f,h){var e=a.active_canvas.getContext("2d");h||(h={});h.color||(h.color=
a.fg);h.width||(h.width=1);n(e,b,c,d,f,h,h.color,h.width)};b.tics=function(a,b,c,d){var f=1,h=a;if(b===a)return{dtic:1,dtic1:a};f=Math.abs(b-a)/c;c=Math.max(f,1E-36);c=Math.log(c)/Math.log(10);0>c?(c=Math.ceil(c),c-=1):c=Math.floor(c);f*=Math.pow(10,-c);c=Math.pow(10,c);h=f*c;d&&5<=h&&5140800>=h?(d=17.5>h?5:37.5>h?15:270>h?60:1050>h?300:2250>h?900:7200>h?3600:16200>h?10800:32400>h?21600:129600>h?43200:518400>h?86400:604800,f=Math.round(h/d)*d):f=1.75>f?c:2.25>f?2*c:3.5>f?2.5*c:7>f?5*c:10*c;0===f&&
(f=1);b>=a?(d=Math.floor(0<=a?a/f+0.995:a/f-0.005),h=d*f):(d=Math.floor(0<=a?a/f+0.005:a/f-0.995),h=d*f,f*=-1);h+f===h&&(f=b-a);return{dtic:f,dtic1:h}};b.drawaxis=function(a,c,d,f,e,h,g){var k=b.origin(c.origin,1,c.stk[c.level]),r=a=0,p=0,m=0,s=0,t=0;e=void 0===e?30:e;h=void 0===h?30:h;g.exactbox?(a=Math.floor(k.x1),r=Math.floor(k.y1),p=Math.floor(k.x2),m=Math.floor(k.y2),s=p-a,t=m-r):(a=Math.max(Math.floor(k.x1)-2,0),r=Math.max(Math.floor(k.y1)-2,0),p=Math.min(Math.floor(k.x2)+2,c.width),m=Math.min(Math.floor(k.y2)+
2,c.height),s=p-a-4,t=m-r-4);var l=c.active_canvas.getContext("2d");g.fillStyle?Array.isArray(g.fillStyle)?l.fillStyle=b.linear_gradient(c,0,0,0,m-r,g.fillStyle):l.fillStyle=g.fillStyle:l.fillStyle=c.bg;l.fillRect(a,r,p-a,m-r);g.noaxisbox||(b.textline(c,a,r,p,r),b.textline(c,p,r,p,m),b.textline(c,p,m,a,m),b.textline(c,a,m,a,r));var n={dtic:0,dtic1:0},l={dtic:0,dtic1:0};0>d?(n.dtic1=k.xmin,n.dtic=(k.xmin-k.xmax)/d):n=b.tics(k.xmin,k.xmax,d,g.xtimecode);var R=1;g.xmult?R=g.xmult:g.xtimecode||(R=b.mult(k.xmin,
k.xmax));0>f?(l.dtic1=k.ymin,l.dtic=(k.ymin-k.ymax)/f):l=b.tics(k.ymin,k.ymax,f,g.ytimecode);d=1;g.ymult?d=g.ymult:g.ytimecode||(d=b.mult(k.ymin,k.ymax));var A=!g.noxtlab;f=!g.noytlab;var y=Math.max(0,a-4*c.text_w),N=0,N=g.ontop?Math.min(c.height,Math.floor(m+1.5*c.text_h)):Math.max(c.text_h,Math.floor(r-0.5*c.text_h)),v,L;0<N&&(g.noyplab||(L=g.ylabel instanceof Function?g.ylabel(h,d):void 0!==g.ylabel?g.ylabel:x.label(h,d)),g.noxplab||(v=g.xlabel instanceof Function?g.xlabel(e,R):void 0!==g.xlabel?
g.xlabel:x.label(e,R)));v&&L?b.text(c,y,N,L+" vs "+v):v?b.text(c,y,N,v):L&&b.text(c,y,N,L);e=5.5*c.text_w;h=0;h=g.ontop?g.inside?r+1*c.text_h:r-0.2*c.text_h:g.inside?m-0.5*c.text_h:m+1*c.text_h+2;s=k.xmin!==k.xmax?s/(k.xmax-k.xmin):s/1;R=0!==R?1/R:1;v=Math.min(12,Math.round(s*n.dtic)/c.text_w);L=1;var C="";if(A)if(g.xtimecode)C=x.sec2tod(n.dtic1),L=C.length*c.text_w<(p-a)/2;else for(var z,N=n.dtic1;N<=k.xmax;N+=n.dtic){C=b.format_f(N*R,v,v/2);if(C===z){L=0;break}z=C}0===n.dtic&&(n.dtic=k.xmax-n.dtic1+
1);y=0;C="";for(N=n.dtic1;N<=k.xmax;N+=n.dtic)if(z=a+Math.round(s*(N-k.xmin))+2,!(z<a)&&(g.grid&&"y"!==g.grid?(g.gridStyle||(g.gridStyle=b.LEGACY_RENDER?{mode:"dashed",on:1,off:3}:{color:c.xwms,mode:"dashed",on:1,off:3}),b.textline(c,z,m,z,r,g.gridStyle)):(b.textline(c,z,m-2,z,m+2),b.textline(c,z,r-2,z,r+2)),A))if(L){if(C=null,g.xtimecode?z>y&&(C=x.sec2tod(N,!0),y=z+c.text_w*(C.length+1)):(C=b.format_f(N*R,v,v/2),C=F(C,!0)),C){var D=Math.round(C.length/2)*c.text_w;g.inside&&(z=Math.max(a+D,z),z=Math.min(p-
D,z));0<=z-D&&b.text(c,z-D,h,C)}}else N===n.dtic1&&(g.xtimecode?(C=x.sec2tod(N,!0),g.inside&&(z=Math.floor(Math.max(a+e,z))),b.text(c,z-e,h,C+" +\u0394 "+x.sec2tod(n.dtic))):(C=(n.dtic1*R).toString(),g.inside&&(z=Math.floor(Math.max(a+e,z))),b.text(c,z-e,h,C+" +\u0394 "+n.dtic*R)));e=g.yonright?g.inside?Math.min(p-6*c.text_w,c.width-5*c.text_w):Math.min(p+c.text_w,c.width-5*c.text_w):g.inside?Math.max(0,a+c.text_w):Math.max(0,Math.floor(a-(c.l-0.5)*c.text_w));h=0.4*c.text_h;s=k.ymin!==k.ymax?-t/(k.ymax-
k.ymin):-t/1;R=0!==d?1/d:1;t=k.ymax>=k.ymin?function(a){return a<=k.ymax}:function(a){return a>=k.ymax};for(d=l.dtic1;t(d);d+=l.dtic)z=m+Math.round(s*(d-k.ymin))-2,z>m||(g.grid&&"x"!==g.grid?(g.gridStyle||(g.gridStyle={mode:"dashed",on:1,off:3}),b.textline(c,a,z,p,z,g.gridStyle)):(b.textline(c,a-2,z,a+2,z),b.textline(c,p-2,z,p+2,z)),!f||g.inside&&(z<r+c.text_h||z>m-2*c.text_h)||(g.ytimecode?(n=x.sec2tod(d),A=z+h-c.text_h,y=n.indexOf("::"),-1!==y&&(A>r&&A<m&&b.text(c,e,A,n.substring(0,y)),y+=1),b.text(c,
e,Math.min(m,z+h),n.substring(y+1,y+6)),A=z+h+c.text_h,A>r&&A<m&&"00"!==n.substring(y+7,y+9)&&(n+=".00",b.text(c,e,A,n.substring(y+7,y+12)))):(n=b.format_f(d*R,12,6),n=F(n,g.inside),b.text(c,e,Math.min(m,z+h),n))))};b.inrect=function(a,b,c,d,f,h){return a>=c&&a<=c+f&&b>=d&&b<=d+h};var z={GBorder:3,sidelab:0,toplab:1,n_show:0};b.menu=function(a,c){var e=1.5*a.text_h,g=Math.floor((a.canvas.height-70)/(1.5*a.text_h));z.n_show=g>=c.items.length?c.items.length:g;if(c){if(!a.widget){c.x=a.xpos;c.y=a.ypos;
c.val=0;c.h=2*z.GBorder+e*z.n_show+z.toplab*(e+z.GBorder)-1;c.y=c.y-((z.toplab+Math.max(1,c.val)-0.5)*e+(1+z.toplab)*z.GBorder)+1;for(var g=c.title.length,w=0,h=0;h<c.items.length;h++){var l=c.items[h],g=Math.max(g,l.text.length);"checkbox"===l.style&&(g+=2);"separator"===l.style&&(g+=2);l.checked&&"checkbox"!==l.style&&(w=e*h)}c.queue=[];for(e=0;e<z.n_show;e++)c.queue.push(e);c.y-=w;g=(g+2)*a.text_w;c.w=2*z.GBorder+Math.abs(z.sidelab)+g-1;c.x-=c.w/2;a.menu=c;a.widget={type:"MENU",callback:function(e){var h=
c,g=h.queue[0],m=h.queue[z.n_show-1];if(void 0===e)d(a,h);else if("mousemove"===e.type){void 0!==h.drag_x&&void 0!==h.drag_y&&2<Math.abs(a.xpos-h.drag_x)&&2<Math.abs(a.ypos-h.drag_y)&&(h.x+=a.xpos-h.drag_x,h.y+=a.ypos-h.drag_y,h.drag_x=a.xpos,h.drag_y=a.ypos);var s=h.x+z.GBorder+Math.max(0,z.sidelab),t=h.w-2*z.GBorder-Math.abs(z.sidelab),u=1.5*a.text_h,w=h.y+z.GBorder+z.toplab*(u+z.GBorder);for(e=g;e<=m;e++){var g=w+u*e,B=h.items[e];B.selected=!1;b.inrect(a.xpos,a.ypos,s,g,t,u)&&(B.selected=!0)}d(a,
h)}else if("mouseup"===e.type)1===e.which?void 0!==h.drag_x&&void 0!==h.drag_y?(h.drag_x=void 0,h.drag_y=void 0):f(a,h):3===e.which&&p(a,h);else if("mousedown"===e.type)e.preventDefault(),1===e.which?a.xpos>h.x&&a.xpos<h.x+h.w&&a.ypos>h.y&&a.ypos<h.y+1.5*a.text_h&&(h.drag_x=a.xpos,h.drag_y=a.ypos):2===e.which&&f(a,h);else if("keydown"===e.type&&a.menu)if(h=a.menu,e.preventDefault(),e=O.getKeyCode(e),13===e)f(a,h);else if(38===e){for(e=g;e<m;e++)if(B=h.items[e],B.selected){B.selected=!1;void 0!==h.items[e-
1]&&(h.items[e-1].selected=!0);break}else e===g&&0!==g?(h.queue.pop(),h.queue.unshift(g-1),d(a,h),h.items[m-1].selected=!0):0===g&&!0===h.items[g].selected&&(d(a,h),h.items[0].selected=!0);d(a,h)}else if(40===e){for(e=g;e<m;e++)if(B=h.items[e],B.selected){B.selected=!1;void 0!==h.items[e+1]&&(h.items[e+1].selected=!0);break}else e===m-1&&(g=m+1,m+1===h.items.length&&(g=0),h.queue.shift(),h.queue.push(g),h.items[m].selected=!1,h.items[g].selected=!0,d(a,h));d(a,h)}else if(48<=e&&57>=e||65<=e&&90>=
e){m=String.fromCharCode(e).toUpperCase();h.keypresses=void 0===h.keypresses?m:h.keypresses+m;for(e=m=0;e<h.items.length;e++)B=h.items[e],B.selected=!1,B.text&&0===B.text.toUpperCase().indexOf(h.keypresses)&&(0===m&&(B.selected=!0),m++);0===m?(h.keypresses=void 0,d(a,h)):1===m?f(a,h):d(a,h)}}}}d(a,c)}};b.widgetbox=function(a,c,d,f,e,h,g,k,r,p){b.shadowbox(a,c,d,f,e,1,2,"",0.75);p&&(e=p.length,e=Math.min(e,f/a.text_w),e=Math.max(e,1),c+=(f-e*a.text_w)/2,d+=3,b.text(a,c,d+(g-d+0.7*a.text_h)/2,p,a.xwfg));
0<k&&0<r&&(d=a.active_canvas.getContext("2d"),b.LEGACY_RENDER?(d.fillStyle=a.bg,d.fillRect(h,g,k,r)):(d.save(),d.globalAlpha=0.1,d.fillStyle=a.bg,d.fillRect(h,g,k,r),d.restore()))};b.text=function(a,b,c,d,f){var h=a.active_canvas.getContext("2d");b=Math.max(0,b);c=Math.max(0,c);if(0>b||0>c)throw"On No!";h.textBaseline="bottom";h.textAlign="left";h.font=a.font.font;h.fillStyle=void 0===f?a.fg:f;h.fillText(d,b,c)};b.getcolor=function(a,b,c){for(a=0;6>a&&0===b[a+1].pos;a++);for(;c>b[a].pos&&6>a;)a++;
if(0===a||c>=b[a].pos)return V(y(b[a].red),y(b[a].green),y(b[a].blue));c=y((c-b[a-1].pos)/(b[a].pos-b[a-1].pos)*100);var d=255-c;return V(b[a].red/100*c+b[a-1].red/100*d,b[a].green/100*c+b[a-1].green/100*d,b[a].blue/100*c+b[a-1].blue/100*d)};b.redraw_warpbox=function(a){a.warpbox&&(a._animationFrameHandle&&cancelAnimFrame(a._animationFrameHandle),a._animationFrameHandle=requestAnimFrame(function(){Q(a)}))};b.format_g=function(a,c,d,f){Math.min(c,d+7);c=Math.abs(a).toString();var e=c.indexOf(".");
-1===e&&(c+=".",e=c.length);f=0;var h=c.indexOf("e");-1!==h&&(f=parseInt(c.slice(h+1,c.length),10),c=c.slice(0,h));for(var h=Math.min(d-(c.length-e)+1,d),g=0;g<h;g++)c+="0";if(0!==a)if(1>Math.abs(a))if("0."===c.slice(0,2))for(g=2;g<c.length;g++)if("0"===c[g])f-=1;else{c="0."+c.slice(g,g+d);break}else c=c.slice(0,d+2);else e>d?(f=Math.max(0,e-1),c=c[0]+"."+c.slice(1,d+1)):c=c.slice(0,d+2);0===f?c+="    ":(d=b.pad(Math.abs(f).toString(),2,"0"),c=0>f?c+"E-"+d:c+"E+"+d);return 0>a?"-"+c:" "+c};b.format_f=
function(a,c,d){d=Math.max(Math.min(d,20),0);a=a.toFixed(d).toString();return a=b.pad(a,c+d," ")};b.pad=function(a,b,c){for(;a.length<b;)a=c+a;return a};b.legacy_shadowbox=function(a,c,d,f,e,h,g,k){for(var p=k.length,l=0,m=0,l=0,m=[],s=0;11>s;s++)m[s]={x:0,y:0};s=!(1===g||-1===g);0!==g&&0<b.GBorder&&(l=x.trunc(Math.min(f,e)/3),l=Math.max(1,Math.min(l,b.GBorder)));if(0<l){m[0].x=m[1].x=c;m[8].x=m[9].x=c+f;m[1].y=m[8].y=d;m[0].y=m[9].y=d+e;switch(h){case b.L_ArrowLeft:m[0].y=m[1].y=d+x.trunc(e/2);c+=
2;--f;break;case b.L_ArrowRight:m[8].y=m[9].y=d+x.trunc(e/2);--c;--f;break;case b.L_ArrowUp:m[1].x=m[8].x=c+x.trunc(f/2);d+=2;--e;break;case b.L_ArrowDown:m[0].x=m[9].x=c+x.trunc(f/2),--d,--e}m[2]=m[8];m[10]=m[0];c+=l;d+=l;f-=2*l;e-=2*l}m[4].x=m[5].x=c;m[3].x=m[6].x=c+f;m[3].y=m[4].y=d;m[5].y=m[6].y=d+e;switch(h){case b.L_ArrowLeft:m[4].y=m[5].y=d+x.trunc(e/2);break;case b.L_ArrowRight:m[3].y=m[6].y=d+x.trunc(e/2);break;case b.L_ArrowUp:m[3].x=m[4].x=c+x.trunc(f/2);break;case b.L_ArrowDown:m[5].x=
m[6].x=c+x.trunc(f/2)}m[7]=m[3];h=a.active_canvas.getContext("2d");0<l&&(h.fillStyle=0<g?a.xwts:a.xwbs,L(h,m.slice(0,7)),h.fillStyle=0>g?a.xwts:a.xwbs,L(h,m.slice(5,11)));s&&(h.fillStyle=a.xwbg,L(h,m.slice(3,8)));h.fillStyle=a.xwfg;h.textBaseline="alphabetic";s&&0<p&&(p=Math.min(p,x.trunc(f/a.text_w)),p=Math.max(p,1),l=c+x.trunc((f-p*a.text_w)/2),m=d+x.trunc((e+0.7*a.text_h)/2),h.fillText(k,l,m))};b.sigplot_shadowbox=function(a,c,d,f,e,h,g,k,p){var l=a.active_canvas.getContext("2d"),m=k.length,s=
0>g?a.xwts:a.xwbs;p=p||1;for(var t=[],n=0;11>n;n++)t[n]={x:0,y:0};switch(h){case b.L_ArrowLeft:case b.L_ArrowRight:case b.L_ArrowUp:case b.L_ArrowDown:t=b.chevron(h,c,d,f,e);l.fillStyle=0<g?a.xwts:a.xwbs;L(l,t.slice(0,6));break;default:b.draw_round_box(a,s,c,d,f,e,p,a.xwbg,5,a.xwbs)}l.fillStyle=a.xwfg;l.textBaseline="alphabetic";1!==g&&-1!==g&&0<m&&(m=Math.min(m,x.trunc(f/a.text_w)),m=Math.max(m,1),c+=x.trunc((f-m*a.text_w)/2),a=d+x.trunc((e+0.7*a.text_h)/2),l.fillText(k,c,a))};b.shadowbox=b.LEGACY_RENDER?
b.legacy_shadowbox:b.sigplot_shadowbox;b.chevron=function(a,c,d,f,e,h){var g=Math.min(f,e);h||(h=0.25*g);for(var k=[],p=0;6>p;p++)k[p]={x:0,y:0};var p=x.trunc((f-g)/2+g/4-h/2.828),l=x.trunc((e-g)/2+g/4-h/2.828);switch(a){case b.L_ArrowLeft:k[0].x=c+p;k[0].y=d+x.trunc(g/2);k[1].x=c+p+x.trunc(g/2);k[1].y=d;k[2].x=c+p+x.trunc(g/2+h/1.414);k[2].y=d+x.trunc(h/1.414);k[3].x=c+p+x.trunc(2*h/1.414);k[3].y=d+x.trunc(g/2);k[4].x=c+p+x.trunc(g/2+h/1.414);k[4].y=d+e-x.trunc(h/1.414);k[5].x=c+p+x.trunc(g/2);k[5].y=
d+g;break;case b.L_ArrowRight:k[0].x=c+f-p;k[0].y=d+x.trunc(g/2);k[1].x=c+f-p-x.trunc(g/2);k[1].y=d;k[2].x=c+f-p-x.trunc(g/2+h/1.414);k[2].y=d+x.trunc(h/1.414);k[3].x=c+f-p-x.trunc(2*h/1.414);k[3].y=d+x.trunc(g/2);k[4].x=c+f-p-x.trunc(g/2+h/1.414);k[4].y=d+e-x.trunc(h/1.414);k[5].x=c+f-p-x.trunc(g/2);k[5].y=d+g;break;case b.L_ArrowUp:k[0].x=c+x.trunc(g/2);k[0].y=d+l;k[1].x=c;k[1].y=d+l+x.trunc(g/2);k[2].x=c+x.trunc(h/1.414);k[2].y=d+l+x.trunc(g/2+h/1.414);k[3].x=c+x.trunc(g/2);k[3].y=d+l+x.trunc(2*
h/1.414);k[4].x=c+f-x.trunc(h/1.414);k[4].y=d+l+x.trunc(g/2+h/1.414);k[5].x=c+g;k[5].y=d+l+x.trunc(g/2);break;case b.L_ArrowDown:k[0].x=c+x.trunc(g/2),k[0].y=d+e-l,k[1].x=c,k[1].y=d+e-l-x.trunc(g/2),k[2].x=c+x.trunc(h/1.414),k[2].y=d+e-l-x.trunc(g/2+h/1.414),k[3].x=c+x.trunc(g/2),k[3].y=d+e-l-x.trunc(2*h/1.414),k[4].x=c+f-x.trunc(h/1.414),k[4].y=d+e-l-x.trunc(g/2+h/1.414),k[5].x=c+g,k[5].y=d+e-l-x.trunc(g/2)}return k};b.ifevent=function(a,b){a.button_press=0;a.button_release=0;a.state_mask=0;var c=
b.target.getBoundingClientRect(),d=void 0===b.offsetX?b.pageX-c.left-window.scrollX:b.offsetX,c=void 0===b.offsetX?b.pageY-c.top-window.scrollY:b.offsetY;switch(b.type){case "mousedown":a.xpos=x.bound(d,0,a.width);a.ypos=x.bound(c,0,a.height);switch(b.which){case 1:a.button_press=1;break;case 2:a.button_press=2;break;case 3:a.button_press=3;break;case 4:a.button_press=4;break;case 5:a.button_press=5}break;case "mouseup":switch(a.xpos=x.bound(d,0,a.width),a.ypos=x.bound(c,0,a.height),b.which){case 1:a.button_release=
1;break;case 2:a.button_release=2;break;case 3:a.button_release=3;break;case 4:a.button_release=4;break;case 5:a.button_release=5}}};b.scroll_real2pix=function(a){if(0===a.range)return{s1:a.a1,sw:a.a2-a.a1};var b,c;b=(a.a2-a.a1)/a.trange;c=a.a1+Math.floor(0.5+(a.smin-a.tmin)*b);b=c+Math.floor(0.5+a.srange*b);c=c>a.a2-a.swmin?a.a2-a.swmin:Math.max(c,a.a1);b=b<a.a1+a.swmin?a.a1+a.swmin:Math.min(b,a.a2);return{s1:c,sw:Math.max(b-c,a.swmin)}};b.redrawScrollbar=function(a,c,d){var f,e,h,g,k,p,l,m,s=c.active_canvas.getContext("2d");
e=b.scroll_real2pix(a);l=e.s1;m=e.sw;p=l;e=a.x;h=a.y;g=a.w;k=a.h;a.origin&1?(f=h+k/2,a.origin&2&&(p=g-p-m),d===b.XW_DRAW&&(d=a.arrow,b.shadowbox(c,e,h,d,k-1,b.L_ArrowLeft,2,"",0),b.shadowbox(c,e+g-d,h,d-1,k,b.L_ArrowRight,2,"",0)),b.LEGACY_RENDER?(b.draw_line(c,c.fg,e+a.a1,f,e+a.a2,f),b.shadowbox(c,e+p,h,m+1,k,1,2,"",0)):(d=s.createLinearGradient(e+a.a1,0,e+a.a2,0),d.addColorStop(0,c.xwbs),d.addColorStop(0.5,c.xwts),d.addColorStop(1,c.xwbs),b.draw_line(c,d,e+a.a1,f,e+a.a2,f,1),d=s.createLinearGradient(0,
h,0,h+k),d.addColorStop(0.1,c.xwts),d.addColorStop(0.75,c.xwbs),b.draw_round_box(c,c.xwbg,e+p,h,m+1,k,1,d,8,c.xwbs))):(f=e+x.trunc(g/2),2>=a.origin&&(p=k-p-m),d===b.XW_DRAW&&(d=a.arrow,b.shadowbox(c,e,h,g-1,d,b.L_ArrowUp,2,"",0),b.shadowbox(c,e,h+k-d,g-1,d,b.L_ArrowDown,2,"",0)),b.LEGACY_RENDER?(b.draw_line(c,c.fg,f,h+a.a1,f,h+a.a2),b.shadowbox(c,e,h+p,g,m+1,1,2,"",0)):(d=s.createLinearGradient(0,h+a.a1,0,h+a.a2),d.addColorStop(0,c.xwbs),d.addColorStop(0.5,c.xwts),d.addColorStop(1,c.xwbs),b.draw_line(c,
d,f,h+a.a1,f,h+a.a2,1),d=s.createLinearGradient(e,0,e+g,0),d.addColorStop(0.1,c.xwts),d.addColorStop(0.75,c.xwbs),b.draw_round_box(c,c.xwbg,e-1,h+p,g,m+1,1,d,8,c.xwbs)));a.s1=l;a.sw=m};b.real_to_pixel=function(a,c,d,f){a=b.origin(a.origin,4,a.stk[a.level]);if(0===a.xscl||0===a.yscl)return{x:0,y:0};var e=a.x1,h=a.y1,g=a.xmin,k=1/a.xscl,p=a.ymin,l=1/a.yscl,m=!1,s=!1;null!==c&&(m=c>a.xmax||c<a.xmin,f&&(c=Math.min(c,a.xmax),c=Math.max(c,a.xmin)),c=Math.round((c-g)*k)+e);null!==d&&(s=d>a.ymin||d<a.ymax,
f&&(d=Math.min(d,a.ymin),d=Math.max(d,a.ymax)),d=Math.round((d-p)*l)+h);c=Math.round(c);d=Math.round(d);return{x:c,y:d,clipped_x:m,clipped_y:s,clipped:m||s}};b.pixel_to_real=function(a,b,c){b=Math.min(a.r,Math.max(a.l,b));c=Math.min(a.b,Math.max(a.t,c));var d=a.level;return{x:2!==a.origin&&3!==a.origin?a.stk[d].xmin+(b-a.stk[d].x1)*a.stk[d].xscl:a.stk[d].xmin+(a.stk[d].x2-b)*a.stk[d].xscl,y:2<a.origin?a.stk[d].ymin+(c-a.stk[d].y1)*a.stk[d].yscl:a.stk[d].ymin+(a.stk[d].y2-c)*a.stk[d].yscl}};b.colormap=
function(a,b,c){a.pixel=Array(c);for(var d=Array(c),f=100/(Math.max(2,c)-1),e=0;e<c;e++)d[e]=f*e+0.5;for(f=0;6>f&&0===b[f+1].pos;f++);for(e=0;e<c;e++){a.pixel[e]=0;for(var g=d[e];6>f&&Math.floor(g)>b[f].pos;)f++;if(0===f||g>=b[f].pos)a.pixel[e]={red:y(b[f].red),green:y(b[f].green),blue:y(b[f].blue)};else{var g=y((g-b[f-1].pos)/(b[f].pos-b[f-1].pos)*100),k=255-g;a.pixel[e]={red:b[f].red/100*g+b[f-1].red/100*k,green:b[f].green/100*g+b[f-1].green/100*k,blue:b[f].blue/100*g+b[f-1].blue/100*k}}}};b.colorbar=
function(a,c,d,f,e){for(var h=1;h<e;h++)b.draw_line(a,Math.floor(a.pixel.length*(h-1)/e),c,d+e-h,c+f,d+e-h);b.draw_box(a,a.fg,c+0.5,d,f,e)};b.legend_colorbar=function(a,c,d,f,e){for(var h=1;h<f;h++)b.draw_line(a,Math.floor(a.pixel.length*(h-1)/f),c+f-h,d,c+f-h,d+e);b.draw_box(a,a.fg,c+0.5,d,f,e)};var S="undefined"===typeof Uint8ClampedArray?H:ba;b.shift_image_rows=function(a,b,c){a=new Uint32Array(b);0<c?(c*=b.width,a.set(a.subarray(0,a.length-c),c)):0>c&&(c=Math.abs(c)*b.width,a.set(a.subarray(c)));
return b};b.update_image_row=function(a,b,c,d,f,e,g){d=new Uint32Array(b,d*b.width*4,b.width);var k=1;e!==f&&(k=a.pixel.length/Math.abs(e-f));e=Math.max(1,c.length/b.width);for(var p=0;p<b.width;p++){var l=Math.floor(p*e),m=c[l];if(1<e)if(1===g){for(var s=1;s<e;s++)m+=c[l+s];m/=e}else if(2===g)for(s=1;s<e;s++)m=Math.min(m,c[l+s]);else if(3===g)for(s=1;s<e;s++)m=Math.max(m,c[l+s]);else if(4===g)m=c[p];else if(5===g)for(s=1;s<e;s++)m=Math.max(Math.abs(m),Math.abs(c[l+s]));l=Math.floor((m-f)*k);l=Math.max(0,
Math.min(a.pixel.length-1,l));(l=a.pixel[l])&&(d[p]=-16777216|l.blue<<16|l.green<<8|l.red)}return d};b.create_image=function(a,c,d,f,e,h,g,k){a.active_canvas.getContext("2d");a.pixel&&0!==a.pixel.length||(x.log.warn("COLORMAP not initialized, defaulting to foreground"),b.colormap(a,x.Mc.colormap[1].colors,16));var p=1;g!==h&&(p=a.pixel.length/Math.abs(g-h));f=Math.ceil(f);e=Math.ceil(e);g=new ArrayBuffer(f*e*4);g.width=f;g.height=e;var l=Math.max(1,d/f),m=new Uint32Array(g);if(c)for(var s=0;s<m.length;s++){var t=
(3===a.origin||4===a.origin?Math.floor(s/f):e-Math.floor(s/f)-1)*d+Math.floor((1===a.origin||4===a.origin?Math.floor(s%f):f-Math.floor(s%f)-1)*l),n=c[t];if(1<l)if(1===k){for(var y=1;y<l;y++)n+=c[t+y];n/=l}else if(2===k)for(y=1;y<l;y++)n=Math.min(n,c[t+y]);else if(3===k)for(y=1;y<l;y++)n=Math.max(n,c[t+y]);else if(4===k)n=c[t];else if(5===k)for(y=1;y<l;y++)n=Math.max(Math.abs(n),Math.abs(c[t+y]));t=Math.floor((n-h)*p);t=Math.max(0,Math.min(a.pixel.length-1,t));(t=a.pixel[t])&&(m[s]=-16777216|t.blue<<
16|t.green<<8|t.red)}return g};b.put_image=function(a,c,d,f,e,g,p,k,l,n,m){l=a.active_canvas.getContext("2d");a.pixel&&0!==a.pixel.length||(x.log.warn("COLORMAP not initialized, defaulting to foreground"),b.colormap(a,x.Mc.colormap[1].colors,16));d=Math.floor(0<e?d*e:-e);f=Math.floor(f*g);g=new ArrayBuffer(d*f*4);g.width=d;g.height=f;e=new Uint32Array(g);for(var s=0;s<e.length;s++){var t=Math.max(0,c[s]),t=Math.min(a.pixel.length-1,t);(t=a.pixel[t])&&(e[s]=-16777216|t.blue<<16|t.green<<8|t.red)}S(a,
l,g,n,m,p,k,d,f);return g};b.draw_image=function(a,c,d,f,e,g,p,k){var l=Math.max(d,a.stk[a.level].xmin),n=Math.min(e,a.stk[a.level].xmax),m=Math.max(f,a.stk[a.level].ymin),s=Math.min(g,a.stk[a.level].ymax);if(!(1>=c.width||0===Math.abs(e-d)||1>=c.height||0===Math.abs(g-f))){e=c.width/(e-d);var t=c.height/(g-f),l=Math.floor(l*e)/e,n=Math.ceil(n*e)/e,m=Math.floor(m*t)/t,s=Math.ceil(s*t)/t,X,y,x,A,z,v;1===a.origin?(x=Math.max(0,Math.floor((g-s)*t)),v=Math.min(c.height-x,Math.floor((s-m)*t)),A=Math.max(0,
Math.floor((l-d)*e)),z=Math.min(c.width-A,Math.floor((n-l)*e)),X=b.real_to_pixel(a,l,s),y=b.real_to_pixel(a,n,m)):2===a.origin?(x=Math.max(0,Math.floor((g-s)*t)),v=Math.min(c.height-x,Math.floor((s-m)*t)),A=Math.max(0,Math.ceil((l-d)*e)),z=Math.min(c.width-A,Math.floor((n-l)*e)),X=b.real_to_pixel(a,n,s),y=b.real_to_pixel(a,l,m)):3===a.origin?(x=Math.max(0,Math.ceil((m-f)*t)),v=Math.min(c.height-x,Math.floor((s-m)*t)),A=Math.max(0,Math.ceil((l-d)*e)),z=Math.min(c.width-A,Math.floor((n-l)*e)),X=b.real_to_pixel(a,
n,m),y=b.real_to_pixel(a,l,s)):4===a.origin&&(x=Math.max(0,Math.ceil((m-f)*t)),v=Math.min(c.height-x,Math.floor((s-m)*t)),A=Math.max(0,Math.floor((l-d)*e)),z=Math.min(c.width-A,Math.floor((n-l)*e)),X=b.real_to_pixel(a,l,m),y=b.real_to_pixel(a,n,s));d=y.x-X.x;y=y.y-X.y;z=Math.max(1,z);v=Math.max(1,v);"number"===typeof k&&(k=(a.r-a.l)/z<=k);f=a.active_canvas.getContext("2d");f.save();f.beginPath();f.rect(a.l,a.t,a.r-a.l,a.b-a.t);f.clip();S(a,f,c,p,k,X.x,X.y,d,y,A,x,z,v);f.restore()}};v.exports=b})()},
{"./CanvasInput":1,"./common":3,"./m":4,tinycolor2:13}],6:[function(D,v,H){v.exports={AccordionPlugin:D("./sigplot.accordion"),AnnotationPlugin:D("./sigplot.annotations"),BoxesPlugin:D("./sigplot.boxes"),PlaybackControlsPlugin:D("./sigplot.playback"),SliderPlugin:D("./sigplot.slider")}},{"./sigplot.accordion":7,"./sigplot.annotations":8,"./sigplot.boxes":9,"./sigplot.playback":10,"./sigplot.slider":11}],7:[function(D,v,H){(function(){D("./m");var b=D("./mx"),g=function(b){this.options=void 0!==b?
b:{};void 0===this.options.display&&(this.options.display=!0);void 0===this.options.center_line_style&&(this.options.center_line_style={});void 0===this.options.edge_line_style&&(this.options.edge_line_style={});void 0===this.options.fill_style&&(this.options.fill_style={});void 0===this.options.direction&&(this.options.direction="vertical");void 0===this.options.mode&&(this.options.mode="absolute");this.loc_2=this.loc_1=this.center_location=this.width=this.center=void 0;this.visible=!0};g.prototype=
{init:function(e){this.plot=e;var a=this.plot._Mx,c=this;this.onmousemove=function(d){if(void 0!==c.center_location&&!c.options.prevent_drag)if(d.xpos<a.l||d.xpos>a.r)c.set_highlight(!1);else if(d.ypos>a.b||d.ypos<a.t)c.set_highlight(!1);else{var f=void 0!==c.options.center_line_style.lineWidth?c.options.center_line_style.lineWidth:1,e=void 0!==c.options.edge_line_style.lineWidth?c.options.edge_line_style.lineWidth:1;if(c.dragging||c.edge_dragging){c.dragging&&(f=b.pixel_to_real(a,d.xpos,d.ypos),
"vertical"===c.options.direction?(c.center_location=d.xpos,"absolute"===c.options.mode?c.center=f.x:"relative"===c.options.mode&&(c.center=(d.xpos-a.l)/(a.r-a.l))):"horizontal"===c.options.direction&&(c.center_location=d.ypos,"absolute"===c.options.mode?c.center=f.y:"relative"===c.options.mode&&(c.center=(d.ypos-a.t)/(a.b-a.t))));if(c.edge_dragging)if(f=b.pixel_to_real(a,d.xpos,d.ypos),"vertical"===c.options.direction?"absolute"===c.options.mode?c.width=2*Math.abs(c.center-f.x):"relative"===c.options.mode&&
(c.width=2*Math.abs(c.center_location-d.xpos)/(a.r-a.l)):"horizontal"===c.options.direction&&("absolute"===c.options.mode?c.width=2*Math.abs(c.center-f.y):"relative"===c.options.mode&&(c.width=2*Math.abs(c.center_location-d.ypos)/(a.b-a.t))),c.options.discrete_widths){for(var f=0,e=Math.abs(c.width-c.options.discrete_widths[0]),g=0,n=1;n<c.options.discrete_widths.length;n++)g=Math.abs(c.width-c.options.discrete_widths[n]),g<e&&(f=n,e=g);c.width=c.options.discrete_widths[f]}else c.options.min_width&&
(c.width=Math.max(c.width,c.options.min_width)),c.options.max_width&&(c.width=Math.min(c.width,c.options.max_width));c.plot&&c.plot.refresh();d.preventDefault()}else a.warpbox||("vertical"===c.options.direction?(Math.abs(c.center_location-d.xpos)<f+5?c.set_highlight(!0):c.set_highlight(!1),Math.abs(c.loc_1-d.xpos)<e+5||Math.abs(c.loc_2-d.xpos)<e+5?c.set_edge_highlight(!0):c.set_edge_highlight(!1)):"horizontal"===c.options.direction&&(Math.abs(c.center_location-d.ypos)<f+5?c.set_highlight(!0):c.set_highlight(!1),
Math.abs(c.loc_1-d.ypos)<e+5||Math.abs(c.loc_2-d.ypos)<e+5?c.set_edge_highlight(!0):c.set_edge_highlight(!1)))}};this.plot.addListener("mmove",this.onmousemove);this.onmousedown=function(b){if(void 0!==c.center_location&&!(b.xpos<a.l||b.xpos>a.r||b.ypos>a.b||b.ypos<a.t)){var f=void 0!==c.options.center_line_style.lineWidth?c.options.center_line_style.lineWidth:1,e=void 0!==c.options.edge_line_style.lineWidth?c.options.edge_line_style.lineWidth:1;"vertical"===c.options.direction?Math.abs(c.loc_1-b.xpos)<
e+5||Math.abs(c.loc_2-b.xpos)<e+5?(c.edge_dragging=!0,b.preventDefault()):Math.abs(c.center_location-b.xpos)<f+5&&(c.dragging=!0,b.preventDefault()):"horizontal"===c.options.direction&&(Math.abs(c.loc_1-b.ypos)<e+5||Math.abs(c.loc_2-b.ypos)<e+5?(c.edge_dragging=!0,b.preventDefault()):Math.abs(c.center_location-b.ypos)<f+5&&(c.dragging=!0,b.preventDefault()))}};this.plot.addListener("mdown",this.onmousedown);this.onmouseup=function(d){c.dragging=!1;c.edge_dragging=!1;d=document.createEvent("Event");
d.initEvent("accordiontag",!0,!0);d.center=c.center;d.width=c.width;b.dispatchEvent(a,d)};document.addEventListener("mouseup",this.onmouseup,!1)},addListener:function(e,a){b.addEventListener(this.plot._Mx,e,a,!1)},removeListener:function(e,a){b.removeEventListener(this.plot._Mx,e,a,!1)},set_highlight:function(b){b!==this.highlight&&(this.highlight=b,this.plot.redraw())},set_edge_highlight:function(b){b!==this.edge_highlight&&(this.edge_highlight=b,this.plot.redraw())},set_center:function(e){this.center=
e;if(this.plot){e=this.plot._Mx;var a=document.createEvent("Event");a.initEvent("accordiontag",!0,!0);a.center=this.center;a.width=this.width;b.dispatchEvent(e,a);this.plot.redraw()}},set_width:function(e){this.width=e;if(this.plot){e=this.plot._Mx;var a=document.createEvent("Event");a.initEvent("accordiontag",!0,!0);a.center=this.center;a.width=this.width;b.dispatchEvent(e,a);this.plot.redraw()}},get_center:function(){return this.center},get_width:function(){return this.width},refresh:function(e){if(this.plot&&
this.visible&&this.options.display&&void 0!==this.center&&void 0!==this.width){var a=this.plot._Mx,c=e.getContext("2d");c.clearRect(0,0,e.width,e.height);var d;"absolute"===this.options.mode?d=b.real_to_pixel(a,this.center,this.center):"relative"===this.options.mode&&("vertical"===this.options.direction?(d=a.stk[0].x1+(a.stk[0].x2-a.stk[0].x1)*this.center,d=b.real_to_pixel(a,b.pixel_to_real(a,d,d).x,b.pixel_to_real(a,d,d).y)):"horizontal"===this.options.direction&&(d=a.stk[0].y1+(a.stk[0].y2-a.stk[0].y1)*
this.center,d=b.real_to_pixel(a,b.pixel_to_real(a,d,d).x,b.pixel_to_real(a,d,d).y)));var f,g;"absolute"===this.options.mode?(f=b.real_to_pixel(a,this.center-this.width/2,this.center-this.width/2),g=b.real_to_pixel(a,this.center+this.width/2,this.center+this.width/2)):"relative"===this.options.mode&&(g=a.stk[0].x2-a.stk[0].x1,e=a.stk[0].y2-a.stk[0].y1,f={x:d.x-this.width*g/2,y:d.y-this.width*e/2},g={x:d.x+this.width*g/2,y:d.y+this.width*e/2});"vertical"===this.options.direction?(this.center_location=
d.x,this.loc_1=Math.max(a.l,f.x),this.loc_2=Math.min(a.r,g.x)):"horizontal"===this.options.direction&&(this.center_location=d.y,this.loc_1=Math.max(a.t,g.y),this.loc_2=Math.min(a.b,f.y));this.options.shade_area&&0<Math.abs(this.loc_2-this.loc_1)&&(f=c.globalAlpha,c.globalAlpha=void 0!==this.options.fill_style.opacity?this.options.fill_style.opacity:0.4,c.fillStyle=void 0!==this.options.fill_style.fillStyle?this.options.fill_style.fillStyle:a.hi,"vertical"===this.options.direction?c.fillRect(this.loc_1,
a.t,this.loc_2-this.loc_1,a.b-a.t):"horizontal"===this.options.direction&&c.fillRect(a.l,this.loc_1,a.r-a.l,this.loc_2-this.loc_1),c.globalAlpha=f);if(this.options.draw_edge_lines||this.edge_highlight||this.edge_dragging){c.lineWidth=void 0!==this.options.edge_line_style.lineWidth?this.options.edge_line_style.lineWidth:1;c.lineCap=void 0!==this.options.edge_line_style.lineCap?this.options.edge_line_style.lineCap:"square";c.strokeStyle=void 0!==this.options.edge_line_style.strokeStyle?this.options.edge_line_style.strokeStyle:
a.fg;if(this.edge_dragging||this.edge_highlight)c.lineWidth=Math.ceil(1.2*c.lineWidth);"vertical"===this.options.direction?(c.beginPath(),c.moveTo(this.loc_1+0.5,a.t),c.lineTo(this.loc_1+0.5,a.b),c.stroke(),c.beginPath(),c.moveTo(this.loc_2+0.5,a.t),c.lineTo(this.loc_2+0.5,a.b),c.stroke()):"horizontal"===this.options.direction&&(c.beginPath(),c.moveTo(a.l,this.loc_1+0.5),c.lineTo(a.r,this.loc_1+0.5),c.stroke(),c.beginPath(),c.moveTo(a.l,this.loc_2+0.5),c.lineTo(a.r,this.loc_2+0.5),c.stroke())}if(this.options.draw_center_line){c.lineWidth=
void 0!==this.options.center_line_style.lineWidth?this.options.center_line_style.lineWidth:1;c.lineCap=void 0!==this.options.center_line_style.lineCap?this.options.center_line_style.lineCap:"square";c.strokeStyle=void 0!==this.options.center_line_style.strokeStyle?this.options.center_line_style.strokeStyle:a.fg;if(this.dragging||this.highlight)c.lineWidth=Math.ceil(1.2*c.lineWidth);"vertical"===this.options.direction?(c.beginPath(),c.moveTo(this.center_location+0.5,a.t),c.lineTo(this.center_location+
0.5,a.b),c.stroke()):"horizontal"===this.options.direction&&(c.beginPath(),c.moveTo(a.l,this.center_location+0.5),c.lineTo(a.r,this.center_location+0.5),c.stroke())}}},set_visible:function(b){this.visible=b;this.plot.redraw()},set_mode:function(b){this.options.mode=b},dispose:function(){this.width=this.center_location=this.center=this.plot=void 0}};v.exports=g})()},{"./m":4,"./mx":5}],8:[function(D,v,H){(function(){D("./m");var b=D("./mx"),g=function(b){this.options=void 0===b?{}:b;void 0===this.options.display&&
(this.options.display=!0);this.options.textBaseline=this.options.textBaseline||"alphabetic";this.options.textAlign=this.options.textAlign||"left";this.annotations=[]};g.prototype={init:function(e){var a=this;this.plot=e;var c=this.plot._Mx;this.onmousemove=function(d){if(0!==a.annotations.length&&!a.options.prevent_hover)if(d.xpos<c.l||d.xpos>c.r)a.set_highlight(!1);else if(d.ypos>c.b||d.ypos<c.t)a.set_highlight(!1);else{for(var f=!1,e=0;e<a.annotations.length;e++){var g=a.annotations[e],n=void 0,
v=void 0;g.absolute_placement&&(n=g.x,v=g.y);void 0!==g.pxl_x&&(n=g.pxl_x);void 0!==g.pxl_y&&(v=g.pxl_y);var A=b.real_to_pixel(c,g.x,g.y);void 0===n&&(n=A.x);void 0===v&&(v=A.y);var A=n,y=v;g.value instanceof HTMLImageElement||g.value instanceof HTMLCanvasElement||g.value instanceof HTMLVideoElement?(A-=g.width/2,y-=g.height/2):y-=g.height;b.inrect(d.xpos,d.ypos,A,y,g.width,g.height)?g.highlight||(a.set_highlight(!0,[g],n,v),f=!0):(g.highlight&&(a.set_highlight(!1,[g]),f=!0),g.selected=void 0)}a.plot&&
f&&a.plot.refresh()}};this.plot.addListener("mmove",this.onmousemove);this.onmousedown=function(b){for(b=0;b<a.annotations.length;b++)a.annotations[b].highlight&&(a.annotations[b].selected=!0)};this.plot.addListener("mdown",this.onmousedown);this.onmouseup=function(c){for(var f=0;f<a.annotations.length;f++){if(a.annotations[f].selected&&(c=document.createEvent("Event"),c.initEvent("annotationclick",!0,!0),c.annotation=a.annotations[f],b.dispatchEvent(a.plot._Mx,c)&&a.annotations[f].onclick))a.annotations[f].onclick();
a.annotations[f].selected=void 0}};document.addEventListener("mouseup",this.onmouseup,!1)},set_highlight:function(e,a,c,d){a=a||this.annotations;for(var f=0;f<a.length;f++){var g=document.createEvent("Event");g.initEvent("annotationhighlight",!0,!0);g.annotation=a[f];g.state=e;g.x=c;g.y=d;b.dispatchEvent(this.plot._Mx,g)&&(a[f].highlight=e)}},menu:function(){var b=function(a){return function(){a.options.display=!a.options.display;a.plot.redraw()}}(this),a=function(a){return function(){a.annotations=
[];a.plot.redraw()}}(this);return{text:"Annotations...",menu:{title:"ANNOTATIONS",items:[{text:"Display",checked:this.options.display,style:"checkbox",handler:b},{text:"Clear All",handler:a}]}}},add_annotation:function(b){this.annotations.push(b);this.plot.redraw();return this.annotations.length},clear_annotations:function(){this.annotations=[];this.plot.redraw()},refresh:function(e){if(this.options.display){var a=this.plot._Mx,c=e.getContext("2d"),d=this;c.save();c.beginPath();c.rect(a.l,a.t,a.r-
a.l,a.b-a.t);c.clip();b.onCanvas(a,e,function(){for(var f=d.annotations.length-1;0<=f;f--){var e=d.annotations[f],g=void 0,n=void 0;e.absolute_placement&&(g=e.x,n=e.y);void 0!==e.pxl_x&&(g=e.pxl_x);void 0!==e.pxl_y&&(n=e.pxl_y);var v=b.real_to_pixel(a,e.x,e.y);void 0===g&&(g=v.x);void 0===n&&(n=v.y);b.inrect(g,n,a.l,a.t,a.r-a.l,a.b-a.t)&&(e.value instanceof HTMLImageElement||e.value instanceof HTMLCanvasElement||e.value instanceof HTMLVideoElement?(e.width=e.value.width,e.height=e.value.height,c.drawImage(e.value,
g-e.width/2,n-e.height/2)):(c.font=e.font||"bold italic 20px new century schoolbook",c.fillStyle=e.highlight?e.highlight_color||a.hi:e.color||a.fg,c.globalAlpha=1,e.width=c.measureText(e.value).width,e.height=c.measureText("M").width,c.textBaseline=e.textBaseline||d.options.textBaseline,c.textAlign=e.textAlign||d.options.textAlign,c.fillText(e.value,g,n)),e.highlight&&e.popup&&b.render_message_box(a,e.popup,g+5,n+5,e.popupTextColor))}});c.restore()}},dispose:function(){this.annotations=this.plot=
void 0}};v.exports=g})()},{"./m":4,"./mx":5}],9:[function(D,v,H){(function(){D("./m");var b=D("./mx"),g=function(b){this.options=void 0===b?{}:b;void 0===this.options.display&&(this.options.display=!0);this.boxes=[]};g.prototype={init:function(b){this.plot=b},menu:function(){var b=function(a){return function(){a.options.display=!a.options.display;a.plot.redraw()}}(this),a=function(a){return function(){a.boxes=[];a.plot.redraw()}}(this);return{text:"Boxes...",menu:{title:"BOXES",items:[{text:"Display",
checked:this.options.display,style:"checkbox",handler:b},{text:"Clear All",handler:a}]}}},add_box:function(b){this.boxes.push(b);this.plot.redraw();return this.boxes.length},clear_boxes:function(){this.boxes=[];this.plot.redraw()},refresh:function(e){if(this.options.display){var a=this.plot._Mx;e=e.getContext("2d");var c,d,f,g,l,n;e.save();e.beginPath();e.rect(a.l,a.t,a.r-a.l,a.b-a.t);e.clip();for(var v=0;v<this.boxes.length;v++){c=this.boxes[v];!0===c.absolute_placement?(d=c.x+a.l,f=c.y+a.t,g=c.w,
l=c.h):(l=b.real_to_pixel(a,c.x,c.y),n=b.real_to_pixel(a,c.x+c.w,c.y+c.h),d=l.x,f=l.y,g=n.x-l.x,l=l.y-n.y);e.strokeStyle=c.strokeStyle||a.fg;e.lineWidth=c.lineWidth||1;1===e.lineWidth%2&&(d+=0.5,f+=0.5);if(c.fillStyle||c.fill)e.globalAlpha=c.alpha||0.5,e.fillStyle=c.fillStyle||e.strokeStyle,e.fillRect(d,f,g,l),e.globalAlpha=1;e.strokeRect(d,f,g,l);c.text&&(e.save(),e.font=c.font||a.text_H+"px Courier New, monospace",e.globalAlpha=1,e.textAlign="end",e.fillStyle=e.strokeStyle,c.font&&(e.font=c.font),
d-=a.text_w,f-=a.text_h/3,l=e.measureText(c.text).width,d-l<a.l&&(d+=g),e.fillText(c.text,d,f),e.restore())}e.restore()}},dispose:function(){this.plot=void 0;this.boxes=[]}};v.exports=g})()},{"./m":4,"./mx":5}],10:[function(D,v,H){(function(){D("./m");var b=D("./mx"),g=D("./common"),e=function(a){this.options={display:!0,size:25,lineWidth:2,fillStyle:!1};g.update(this.options,a);this.state="paused";this.highlight=!1};e.prototype={init:function(a){this.plot=a;var b=this,d=this.plot._Mx;this.onmousemove=
function(a){d.warpbox||(b.ismouseover(a.xpos,a.ypos)?b.set_highlight(!0):b.set_highlight(!1))};this.plot.addListener("mmove",this.onmousemove);this.onmousedown=function(a){d.warpbox||b.ismouseover(a.xpos,a.ypos)&&a.preventDefault()};this.plot.addListener("mdown",this.onmousedown);this.onmouseclick=function(a){!d.warpbox&&b.ismouseover(a.xpos,a.ypos)&&(b.toggle(),a.preventDefault())};this.plot.addListener("mclick",this.onmouseclick)},set_highlight:function(a){a!==this.highlight&&(this.highlight=a,
this.plot.redraw())},toggle:function(a){a||(a="paused"===this.state?"playing":"paused");if(a!==this.state&&this.plot){var c=this.plot._Mx,d=document.createEvent("Event");d.initEvent("playbackevt",!0,!0);d.state=a;b.dispatchEvent(c,d)&&(this.state=a);this.plot.redraw()}},addListener:function(a,c){b.addEventListener(this.plot._Mx,a,c,!1)},removeListener:function(a,c){b.removeEventListener(this.plot._Mx,a,c,!1)},ismouseover:function(a,b){var d=this.position();return Math.pow(a-d.x,2)+Math.pow(b-d.y,
2)<Math.pow(this.options.size/2,2)},position:function(){if(this.options.position)return this.options.position;if(this.plot){var a=this.plot._Mx,b=this.options.size/2;return{x:a.l+b+this.options.lineWidth+1,y:a.t+b+this.options.lineWidth+1}}return{x:null,y:null}},refresh:function(a){var b,d,e;if(this.options.display){var g=this.plot._Mx,l=a.getContext("2d");l.lineWidth=this.options.lineWidth;var n=this.options.size/2;this.highlight&&(l.lineWidth+=2,n+=1);var v=this.position();l.beginPath();l.arc(v.x,
v.y,n-l.lineWidth,0,2*Math.PI,!0);l.closePath();l.strokeStyle=this.options.strokeStyle||g.fg;l.stroke();this.options.fillStyle&&(l.fillStyle=this.options.fillStyle,l.fill());if("paused"===this.state){var A;d=0.8*n+(v.x-n);a=1.45*n+(v.x-n);A=0.8*n+(v.x-n);e=0.56*n+(v.y-n);b=n+(v.y-n);n=1.45*n+(v.y-n);l.beginPath();l.moveTo(d,e);l.lineTo(a,b);l.lineTo(A,n);l.closePath();l.fillStyle=this.options.strokeStyle||g.fg;l.fill()}else l.lineCap="round",l.lineWidth=Math.floor(Math.min(1,this.options.size/8)),
d=0.8*n+(v.x-n),a=0.8*n+(v.x-n),e=n/2+(v.y-n),b=1.5*n+(v.y-n),l.beginPath(),l.moveTo(d,e),l.lineTo(a,b),l.closePath(),l.stroke(),d=n+n/5+(v.x-n),a=n+n/5+(v.x-n),e=n/2+(v.y-n),b=1.5*n+(v.y-n),l.beginPath(),l.moveTo(d,e),l.lineTo(a,b),l.closePath(),l.stroke();l.restore()}},dispose:function(){this.boxes=this.plot=void 0}};v.exports=e})()},{"./common":3,"./m":4,"./mx":5}],11:[function(D,v,H){(function(){D("./m");var b=D("./mx"),g=D("./common"),e=function(a){this.options={display:!0,style:{lineWidth:1,
lineCap:"square"},direction:"vertical",name:"Slider",prevent_drag:!1,add_box:!1,persistent_style:!1,slider_ID:0};g.update(this.options,a);this.paired_slider=this.location=this.position=void 0;this.name=this.options.name};e.prototype={init:function(a){this.plot=a;var c=a._Mx,d=this;this.onmousemove=function(a){if(void 0!==d.location&&!d.options.prevent_drag)if(a.xpos<c.l||a.xpos>c.r)d.set_highlight(!1);else if(a.ypos>c.b||a.ypos<c.t)d.set_highlight(!1);else{var e=d.options.style.lineWidth;d.dragging?
(e=b.pixel_to_real(c,a.xpos,a.ypos),"vertical"===d.options.direction?(d.location=a.xpos,d.position=e.x):"horizontal"===d.options.direction?(d.location=a.ypos,d.position=e.y):"both"===d.options.direction&&(d.location.x=a.xpos,d.position.x=e.x,d.location.y=a.ypos,d.position.y=e.y),d.plot.redraw(),a.preventDefault()):c.warpbox||("vertical"===d.options.direction?Math.abs(d.location-a.xpos)<e+5?d.set_highlight(!0):d.set_highlight(!1):"horizontal"===d.options.direction?Math.abs(d.location-a.ypos)<e+5?d.set_highlight(!0):
d.set_highlight(!1):"both"===d.options.direction&&(Math.abs(d.location.x-a.xpos)<e+5&&Math.abs(d.location.y-a.ypos)<e+5?d.set_highlight(!0):d.set_highlight(!1)))}};this.plot.addListener("mmove",this.onmousemove);this.onmousedown=function(a){if(void 0!==d.location&&!(d.options.prevent_drag||a.xpos<c.l||a.xpos>c.r||a.ypos>c.b||a.ypos<c.t||a.slider_drag)){var b=d.options.style.lineWidth;"vertical"===d.options.direction?Math.abs(d.location-a.xpos)<b+5&&(d.dragging=!0,a.slider_drag=!0,a.preventDefault()):
"horizontal"===d.options.direction?Math.abs(d.location-a.ypos)<b+5&&(d.dragging=!0,a.slider_drag=!0,a.preventDefault()):"both"===d.options.direction&&Math.abs(d.location.x-a.xpos)<b+5&&Math.abs(d.location.y-a.ypos)<b+5&&(d.dragging=!0,a.slider_drag=!0,a.preventDefault())}};this.plot.addListener("mdown",this.onmousedown);this.onmouseup=function(a){d.dragging&&(a.preventDefault(),d.dragging=!1,a=document.createEvent("Event"),a.source=d,a.initEvent("slidertag",!0,!0),"both"===d.options.direction?(a.location=
d.location?JSON.parse(JSON.stringify(d.location)):void 0,a.position=d.position?JSON.parse(JSON.stringify(d.position)):void 0):(a.location=d.location,a.position=d.position),b.dispatchEvent(c,a),a=document.createEvent("Event"),a.initEvent("sliderdrag",!0,!0),"both"===d.options.direction?(a.location=d.location?JSON.parse(JSON.stringify(d.location)):void 0,a.position=d.position?JSON.parse(JSON.stringify(d.position)):void 0):(a.location=d.location,a.position=d.position),b.dispatchEvent(c,a))};this.plot.addListener("mup",
this.onmouseup)},menu:function(){var a=function(a){return function(){a.options.display=!a.options.display;a.plot.redraw()}}(this),b=function(a){return function(){var b=a.plot._Mx,c=b.stk[b.level],b=(c.xmax-c.xmin)/2+c.xmin,c=(c.ymax-c.ymin)/2+c.ymin;"vertical"===a.options.direction?a.set_position(b):"horizontal"===a.options.direction?a.set_position(c):"both"===a.options.direction&&a.set_position({x:b,y:c})}}(this);return{text:this.name+"...",menu:{title:"SLIDER",items:[{text:"Display",checked:this.options.display,
style:"checkbox",handler:a},{text:"Center",handler:b}]}}},addListener:function(a,c){var d=this;b.addEventListener(this.plot._Mx,a,function(a){if(a.source===d)return c(a)},!1)},removeListener:function(a,c){b.removeEventListener(this.plot._Mx,a,c,!1)},pair:function(a){if(a){if(a.direction!==this.direction)throw"paired sliders must use the same direction setting";this.paired_slider=a}else this.paired_slider=null},set_highlight:function(a){a!==this.highlight&&(this.highlight=a,this.plot.redraw())},set_position:function(a){if(!this.dragging){if("both"===
this.options.direction){if(void 0!==this.position&&this.position.x===a.x&&this.position.y===a.y)return}else if(this.position===a)return;this.set_highlight(!1);var c=this.plot._Mx;this.position="both"===this.options.direction?a?JSON.parse(JSON.stringify(a)):void 0:a;a="both"===this.options.direction?b.real_to_pixel(c,this.position.x,this.position.y):b.real_to_pixel(c,this.position,this.position);"vertical"===this.options.direction?this.location=a.x:"horizontal"===this.options.direction?this.location=
a.y:"both"===this.options.direction&&(this.location={x:a.x,y:a.y});a=document.createEvent("Event");a.initEvent("slidertag",!0,!0);"both"===this.options.direction?(a.location=this.location?JSON.parse(JSON.stringify(this.location)):void 0,a.position=this.position?JSON.parse(JSON.stringify(this.position)):void 0):(a.location=this.location,a.position=this.position);b.dispatchEvent(c,a);this.plot.redraw()}},set_location:function(a){if(!this.dragging){if("both"===this.options.direction){if(void 0!==this.location&&
this.location.x===a.x&&this.location.y===a.y)return}else if(this.location===a)return;this.set_highlight(!1);var c=this.plot._Mx;this.location="both"===this.options.direction?a?JSON.parse(JSON.stringify(a)):void 0:a;a="both"===this.options.direction?b.pixel_to_real(c,a.x,a.y):b.pixel_to_real(c,a,a);"vertical"===this.options.direction?this.position=a.x:"horizontal"===this.options.direction?this.position=a.y:"both"===this.options.direction&&(this.position={x:a.x,y:a.y});a=document.createEvent("Event");
a.initEvent("slidertag",!0,!0);"both"===this.options.direction?(a.location=this.location?JSON.parse(JSON.stringify(this.location)):void 0,a.position=this.position?JSON.parse(JSON.stringify(this.position)):void 0):(a.location=this.location,a.position=this.position);b.dispatchEvent(c,a);this.plot.redraw()}},get_position:function(){return this.position},get_location:function(){return this.location},refresh:function(a){if(this.options.display&&void 0!==this.position){var c=this.plot._Mx;a=a.getContext("2d");
a.lineWidth=this.options.style.lineWidth;a.lineCap=this.options.style.lineCap;a.strokeStyle=void 0!==this.options.style.strokeStyle?this.options.style.strokeStyle:c.fg;if(this.dragging||this.highlight)a.lineWidth=Math.ceil(1.2*a.lineWidth);var d;d="both"===this.options.direction?b.real_to_pixel(c,this.position.x,this.position.y):b.real_to_pixel(c,this.position,this.position);if("vertical"===this.options.direction){if(d.x<c.l||d.x>c.r)return;this.location=d.x}else if("horizontal"===this.options.direction){if(d.y<
c.t||d.y>c.b)return;this.location=d.y}else if("both"===this.options.direction){if(d.x<c.l||d.x>c.r||d.y<c.t||d.y>c.b)return;this.location.x=d.x;this.location.y=d.y}"vertical"===this.options.direction?(a.beginPath(),a.moveTo(this.location+0.5,c.t),a.lineTo(this.location+0.5,c.b),a.stroke()):"horizontal"===this.options.direction?(a.beginPath(),a.moveTo(c.l,this.location+0.5),a.lineTo(c.r,this.location+0.5),a.stroke()):"both"===this.options.direction&&(a.beginPath(),a.moveTo(c.l,this.location.y+0.5),
a.lineTo(c.r,this.location.y+0.5),a.closePath(),a.moveTo(this.location.x+0.5,c.t),a.lineTo(this.location.x+0.5,c.b),a.stroke());if(this.dragging||this.highlight||this.options.persistent_style){var e=2*c.text_h*this.options.slider_ID;if("vertical"===this.options.direction){a.textBaseline="alphabetic";a.textAlign="left";a.fillStyle=void 0!==this.options.style.textStyle?this.options.style.textStyle:c.fg;a.font=c.font.font;d=b.format_g(this.position,6,3,!0).trim();var g=a.measureText(d).width;this.location+
2*g>c.r?(a.textAlign="right",a.fillText(d,this.location-15,c.t+40+e)):a.fillText(d,this.location+15,c.t+40+e);this.options.add_box&&(this.location+2*g>c.r?a.rect(this.location-2*g,c.t+20+e,2*g,2*c.text_h):a.rect(this.location+0.5,c.t+20+e,2*g,2*c.text_h),a.strokeStyle=this.options.style.strokeStyle,a.stroke())}else"horizontal"===this.options.direction&&(a.textBaseline="alphabetic",a.textAlign="left",a.fillStyle=void 0!==this.options.style.textStyle?this.options.style.textStyle:c.fg,a.font=c.font.font,
d=b.format_g(this.position,6,3,!0).trim(),g=a.measureText(d).width,e=2*g*this.options.slider_ID,this.location-2*c.text_h>c.t?a.fillText(d,c.l+20+e,this.location-5):a.fillText(d,c.l+20+e,this.location+5+c.text_h),this.options.add_box&&(this.location-2*c.text_h>c.t?a.rect(c.l+15+e,this.location-2*c.text_h,2*g,2*c.text_h):a.rect(c.l+15+e,this.location,2*g,2*c.text_h),a.strokeStyle=this.options.style.strokeStyle,a.stroke()));this.paired_slider&&("vertical"===this.options.direction?(d=this.position-this.paired_slider.position,
e=this.location-this.paired_slider.location,g=c.t+Math.round((c.b-c.t)/2),b.textline(c,this.location,g,this.paired_slider.location,g,{mode:"dashed",on:3,off:3}),a.textBaseline="alphabetic",a.textAlign="center",a.fillStyle=void 0!==this.options.style.textStyle?this.options.style.textStyle:c.fg,a.font=c.font.font,d=b.format_g(d,6,3,!0),a.fillText(d,this.location-Math.round(e/2),g-5)):"horizontal"===this.options.direction&&(d=this.position-this.paired_slider.position,e=this.location-this.paired_slider.location,
g=c.l+Math.round((c.r-c.l)/2),b.textline(c,g,this.location,g,this.paired_slider.location,{mode:"dashed",on:3,off:3}),a.textBaseline="alphabetic",a.textAlign="left",a.fillStyle=void 0!==this.options.style.textStyle?this.options.style.textStyle:c.fg,a.font=c.font.font,d=b.format_g(d,6,3,!0),a.fillText(d,g+5,this.location-Math.round(e/2))))}}},dispose:function(){this.plot.removeListener("mmove",this.onmousemove);document.removeEventListener("mouseup",this.onmouseup,!1);this.position=this.plot=void 0}};
v.exports=e})()},{"./common":3,"./m":4,"./mx":5}],12:[function(D,v,H){(function(b,g){"object"===typeof v&&v.exports?v.exports=g():b.log=g()})(this,function(){function b(a,b){var c=a[b];if("function"===typeof c.bind)return c.bind(a);try{return Function.prototype.bind.call(c,a)}catch(d){return function(){return Function.prototype.apply.apply(c,[a,arguments])}}}function g(a,b){for(var c=0;c<p.length;c++){var e=p[c];this[e]=c<a?d:this.methodFactory(e,a,b)}this.log=this.debug}function e(a,b,c){return function(){typeof console!==
f&&(g.call(this,b,c),this[a].apply(this,arguments))}}function a(a,c,g){var l=a;"debug"===l&&(l="log");return(typeof console===f?!1:void 0!==console[l]?b(console,l):void 0!==console.log?b(console,"log"):d)||e.apply(this,arguments)}function c(b,c,d){function e(){var a;if(typeof window!==f){try{a=window.localStorage[v]}catch(b){}if(typeof a===f)try{var c=window.document.cookie,d=c.indexOf(encodeURIComponent(v)+"=");d&&(a=/^([^;]+)/.exec(c.slice(d))[1])}catch(g){}void 0===l.levels[a]&&(a=void 0);return a}}
var l=this,n,v="loglevel";b&&(v+=":"+b);l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5};l.methodFactory=d||a;l.getLevel=function(){return n};l.setLevel=function(a,c){"string"===typeof a&&void 0!==l.levels[a.toUpperCase()]&&(a=l.levels[a.toUpperCase()]);if("number"===typeof a&&0<=a&&a<=l.levels.SILENT){n=a;if(!1!==c)a:{var d=(p[a]||"silent").toUpperCase();if(typeof window!==f){try{window.localStorage[v]=d;break a}catch(e){}try{window.document.cookie=encodeURIComponent(v)+"="+d+";"}catch(x){}}}g.call(l,
a,b);if(typeof console===f&&a<l.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+a;};l.setDefaultLevel=function(a){e()||l.setLevel(a,!1)};l.enableAll=function(a){l.setLevel(l.levels.TRACE,a)};l.disableAll=function(a){l.setLevel(l.levels.SILENT,a)};d=e();null==d&&(d=null==c?"WARN":c);l.setLevel(d,!1)}var d=function(){},f="undefined",p=["trace","debug","info","warn","error"],l=new c,n={};l.getLogger=function(a){if("string"!==typeof a||""===
a)throw new TypeError("You must supply a name when creating a logger.");var b=n[a];b||(b=n[a]=new c(a,l.getLevel(),l.methodFactory));return b};var v=typeof window!==f?window.log:void 0;l.noConflict=function(){typeof window!==f&&window.log===l&&(window.log=v);return l};return l})},{}],13:[function(D,v,H){(function(b){function g(c,d){var e,f,l,n,p;c=c?c:"";d=d||{};if(c instanceof g)return c;if(!(this instanceof g))return new g(c,d);f=c;p={r:0,g:0,b:0};var r=1;n=n=l=null;l=n=!1;if("string"==typeof f)a:{f=
f.replace(q,"").replace(Y,"").toLowerCase();var v=!1;if(k[f])f=k[f],v=!0;else if("transparent"==f){f={r:0,g:0,b:0,a:0,format:"name"};break a}f=(e=T.rgb.exec(f))?{r:e[1],g:e[2],b:e[3]}:(e=T.rgba.exec(f))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=T.hsl.exec(f))?{h:e[1],s:e[2],l:e[3]}:(e=T.hsla.exec(f))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=T.hsv.exec(f))?{h:e[1],s:e[2],v:e[3]}:(e=T.hsva.exec(f))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=T.hex8.exec(f))?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:parseInt(e[4],
16)/255,format:v?"name":"hex8"}:(e=T.hex6.exec(f))?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),format:v?"name":"hex"}:(e=T.hex4.exec(f))?{r:parseInt(e[1]+""+e[1],16),g:parseInt(e[2]+""+e[2],16),b:parseInt(e[3]+""+e[3],16),a:parseInt(e[4]+""+e[4],16)/255,format:v?"name":"hex8"}:(e=T.hex3.exec(f))?{r:parseInt(e[1]+""+e[1],16),g:parseInt(e[2]+""+e[2],16),b:parseInt(e[3]+""+e[3],16),format:v?"name":"hex"}:!1}if("object"==typeof f){if(S(f.r)&&S(f.g)&&S(f.b))p=f.g,e=f.b,p={r:255*C(f.r,
255),g:255*C(p,255),b:255*C(e,255)},n=!0,l="%"===String(f.r).substr(-1)?"prgb":"rgb";else if(S(f.h)&&S(f.s)&&S(f.v)){l=z(f.s);n=z(f.v);v=f.h;e=l;p=n;v=6*C(v,360);e=C(e,100);p=C(p,100);l=b.floor(v);var x=v-l;n=p*(1-e);v=p*(1-x*e);e=p*(1-(1-x)*e);l%=6;p={r:255*[p,v,n,n,e,p][l],g:255*[e,p,p,v,n,n][l],b:255*[n,n,e,p,p,v][l]};n=!0;l="hsv"}else S(f.h)&&S(f.s)&&S(f.l)&&(l=z(f.s),n=z(f.l),p=a(f.h,l,n),n=!0,l="hsl");f.hasOwnProperty("a")&&(r=f.a)}r=O(r);e=n;f=f.format||l;l=w(255,h(p.r,0));n=w(255,h(p.g,0));
p=w(255,h(p.b,0));this._originalInput=c;this._r=l;this._g=n;this._b=p;this._a=r;this._roundA=u(100*this._a)/100;this._format=d.format||f;this._gradientType=d.gradientType;1>this._r&&(this._r=u(this._r));1>this._g&&(this._g=u(this._g));1>this._b&&(this._b=u(this._b));this._ok=e;this._tc_id=B++}function e(a,b,c){a=C(a,255);b=C(b,255);c=C(c,255);var d=h(a,b,c),e=w(a,b,c),f,g=(d+e)/2;if(d==e)f=e=0;else{var k=d-e,e=0.5<g?k/(2-d-e):k/(d+e);switch(d){case a:f=(b-c)/k+(b<c?6:0);break;case b:f=(c-a)/k+2;break;
case c:f=(a-b)/k+4}f/=6}return{h:f,s:e,l:g}}function a(a,b,c){function d(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:0.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}a=C(a,360);b=C(b,100);c=C(c,100);if(0===b)c=b=a=c;else{var e=0.5>c?c*(1+b):c+b-c*b,f=2*c-e;c=d(f,e,a+1/3);b=d(f,e,a);a=d(f,e,a-1/3)}return{r:255*c,g:255*b,b:255*a}}function c(a,b,c){a=C(a,255);b=C(b,255);c=C(c,255);var d=h(a,b,c),e=w(a,b,c),f,g=d-e;if(d==e)f=0;else{switch(d){case a:f=(b-c)/g+(b<c?6:0);break;case b:f=(c-a)/g+2;break;case c:f=
(a-b)/g+4}f/=6}return{h:f,s:0===d?0:g/d,v:d}}function d(a,b,c,d){a=[x(u(a).toString(16)),x(u(b).toString(16)),x(u(c).toString(16))];return d&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function f(a,c,d,e){return[x(b.round(255*parseFloat(e)).toString(16)),x(u(a).toString(16)),x(u(c).toString(16)),x(u(d).toString(16))].join("")}function p(a,b){b=0===b?0:b||10;var c=g(a).toHsl();c.s-=b/100;c.s=
w(1,h(0,c.s));return g(c)}function l(a,b){b=0===b?0:b||10;var c=g(a).toHsl();c.s+=b/100;c.s=w(1,h(0,c.s));return g(c)}function n(a){return g(a).desaturate(100)}function D(a,b){b=0===b?0:b||10;var c=g(a).toHsl();c.l+=b/100;c.l=w(1,h(0,c.l));return g(c)}function A(a,b){b=0===b?0:b||10;var c=g(a).toRgb();c.r=h(0,w(255,c.r-u(255*-(b/100))));c.g=h(0,w(255,c.g-u(255*-(b/100))));c.b=h(0,w(255,c.b-u(255*-(b/100))));return g(c)}function y(a,b){b=0===b?0:b||10;var c=g(a).toHsl();c.l-=b/100;c.l=w(1,h(0,c.l));
return g(c)}function H(a,b){var c=g(a).toHsl(),d=(c.h+b)%360;c.h=0>d?360+d:d;return g(c)}function F(a){a=g(a).toHsl();a.h=(a.h+180)%360;return g(a)}function Q(a){var b=g(a).toHsl(),c=b.h;return[g(a),g({h:(c+120)%360,s:b.s,l:b.l}),g({h:(c+240)%360,s:b.s,l:b.l})]}function $(a){var b=g(a).toHsl(),c=b.h;return[g(a),g({h:(c+90)%360,s:b.s,l:b.l}),g({h:(c+180)%360,s:b.s,l:b.l}),g({h:(c+270)%360,s:b.s,l:b.l})]}function ba(a){var b=g(a).toHsl(),c=b.h;return[g(a),g({h:(c+72)%360,s:b.s,l:b.l}),g({h:(c+216)%
360,s:b.s,l:b.l})]}function W(a,b,c){b=b||6;c=c||30;var d=g(a).toHsl();c=360/c;a=[g(a)];for(d.h=(d.h-(c*b>>1)+720)%360;--b;)d.h=(d.h+c)%360,a.push(g(d));return a}function P(a,b){b=b||6;for(var c=g(a).toHsv(),d=c.h,e=c.s,c=c.v,f=[],h=1/b;b--;)f.push(g({h:d,s:e,v:c})),c=(c+h)%1;return f}function O(a){a=parseFloat(a);if(isNaN(a)||0>a||1<a)a=1;return a}function C(a,c){var d=a;"string"==typeof d&&-1!=d.indexOf(".")&&1===parseFloat(d)&&(a="100%");d="string"===typeof a&&-1!=a.indexOf("%");a=w(c,h(0,parseFloat(a)));
d&&(a=parseInt(a*c,10)/100);return 1E-6>b.abs(a-c)?1:a%c/parseFloat(c)}function x(a){return 1==a.length?"0"+a:""+a}function z(a){1>=a&&(a=100*a+"%");return a}function S(a){return!!T.CSS_UNIT.exec(a)}var q=/^\s+/,Y=/\s+$/,B=0,u=b.round,w=b.min,h=b.max,M=b.random;g.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},
getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1E3},getLuminance:function(){var a=this.toRgb(),c,d;c=a.r/255;d=a.g/255;a=a.b/255;c=0.03928>=c?c/12.92:b.pow((c+0.055)/1.055,2.4);d=0.03928>=d?d/12.92:b.pow((d+0.055)/1.055,2.4);a=0.03928>=a?a/12.92:b.pow((a+0.055)/1.055,2.4);return 0.2126*c+0.7152*d+0.0722*a},setAlpha:function(a){this._a=O(a);this._roundA=u(100*this._a)/100;return this},toHsv:function(){var a=c(this._r,this._g,this._b);
return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=c(this._r,this._g,this._b),b=u(360*a.h),d=u(100*a.s),a=u(100*a.v);return 1==this._a?"hsv("+b+", "+d+"%, "+a+"%)":"hsva("+b+", "+d+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var a=e(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=e(this._r,this._g,this._b),b=u(360*a.h),c=u(100*a.s),a=u(100*a.l);return 1==this._a?"hsl("+b+", "+c+"%, "+a+"%)":"hsla("+b+", "+c+"%, "+a+"%, "+this._roundA+
")"},toHex:function(a){return d(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(a){var c=this._g,d=this._b,e=this._a,c=[x(u(this._r).toString(16)),x(u(c).toString(16)),x(u(d).toString(16)),x(b.round(255*parseFloat(e)).toString(16))];a=a&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)&&c[3].charAt(0)==c[3].charAt(1)?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("");return a},toHex8String:function(a){return"#"+
this.toHex8(a)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*C(this._r,255))+"%",g:u(100*C(this._g,255))+"%",b:u(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*C(this._r,255))+"%, "+u(100*C(this._g,255))+"%, "+
u(100*C(this._b,255))+"%)":"rgba("+u(100*C(this._r,255))+"%, "+u(100*C(this._g,255))+"%, "+u(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":1>this._a?!1:r[d(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var b="#"+f(this._r,this._g,this._b,this._a),c=b,d=this._gradientType?"GradientType = 1, ":"";a&&(a=g(a),c="#"+f(a._r,a._g,a._b,a._a));return"progid:DXImageTransform.Microsoft.gradient("+d+"startColorstr="+b+",endColorstr="+c+")"},toString:function(a){var b=
!!a;a=a||this._format;var c=!1,d=1>this._a&&0<=this._a;if(!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"hex4"===a||"hex8"===a||"name"===a))return"name"===a&&0===this._a?this.toName():this.toRgbString();"rgb"===a&&(c=this.toRgbString());"prgb"===a&&(c=this.toPercentageRgbString());if("hex"===a||"hex6"===a)c=this.toHexString();"hex3"===a&&(c=this.toHexString(!0));"hex4"===a&&(c=this.toHex8String(!0));"hex8"===a&&(c=this.toHex8String());"name"===a&&(c=this.toName());"hsl"===a&&(c=this.toHslString());"hsv"===
a&&(c=this.toHsvString());return c||this.toHexString()},clone:function(){return g(this.toString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));this._r=c._r;this._g=c._g;this._b=c._b;this.setAlpha(c._a);return this},lighten:function(){return this._applyModification(D,arguments)},brighten:function(){return this._applyModification(A,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(p,
arguments)},saturate:function(){return this._applyModification(l,arguments)},greyscale:function(){return this._applyModification(n,arguments)},spin:function(){return this._applyModification(H,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(W,arguments)},complement:function(){return this._applyCombination(F,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(ba,
arguments)},triad:function(){return this._applyCombination(Q,arguments)},tetrad:function(){return this._applyCombination($,arguments)}};g.fromRatio=function(a,b){if("object"==typeof a){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]="a"===d?a[d]:z(a[d]));a=c}return g(a,b)};g.equals=function(a,b){return a&&b?g(a).toRgbString()==g(b).toRgbString():!1};g.random=function(){return g.fromRatio({r:M(),g:M(),b:M()})};g.mix=function(a,b,c){c=0===c?0:c||50;a=g(a).toRgb();b=g(b).toRgb();c/=100;return g({r:(b.r-
a.r)*c+a.r,g:(b.g-a.g)*c+a.g,b:(b.b-a.b)*c+a.b,a:(b.a-a.a)*c+a.a})};g.readability=function(a,c){var d=g(a),e=g(c);return(b.max(d.getLuminance(),e.getLuminance())+0.05)/(b.min(d.getLuminance(),e.getLuminance())+0.05)};g.isReadable=function(a,b,c){a=g.readability(a,b);b=!1;var d;d=c||{level:"AA",size:"small"};c=(d.level||"AA").toUpperCase();d=(d.size||"small").toLowerCase();"AA"!==c&&"AAA"!==c&&(c="AA");"small"!==d&&"large"!==d&&(d="small");switch(c+d){case "AAsmall":case "AAAlarge":b=4.5<=a;break;
case "AAlarge":b=3<=a;break;case "AAAsmall":b=7<=a}return b};g.mostReadable=function(a,b,c){var d=null,e=0,f,h,k,l;c=c||{};h=c.includeFallbackColors;k=c.level;l=c.size;for(var n=0;n<b.length;n++)f=g.readability(a,b[n]),f>e&&(e=f,d=g(b[n]));if(g.isReadable(a,d,{level:k,size:l})||!h)return d;c.includeFallbackColors=!1;return g.mostReadable(a,["#fff","#000"],c)};var k=g.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",
blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",
darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",
ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",
mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",
papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",
turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},r=g.hexNames=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}(k),T={CSS_UNIT:/(?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?)/,rgb:RegExp("rgb[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),rgba:RegExp("rgba[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hsl:RegExp("hsl[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsla:RegExp("hsla[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsv:RegExp("hsv[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hsva:RegExp("hsva[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};
"undefined"!==typeof v&&v.exports?v.exports=g:window.tinycolor=g})(Math)},{}]},{},[6])(6)});
